{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://shinnan/./src/apis/files/delete.js","webpack://shinnan/./src/apis/files/get.js","webpack://shinnan/./src/apis/files/index.js","webpack://shinnan/./src/apis/files/list.js","webpack://shinnan/./src/apis/files/update.js","webpack://shinnan/./src/apis/files/upload.js","webpack://shinnan/./src/apis/index.js","webpack://shinnan/./src/apis/mysql/index.js","webpack://shinnan/./src/apis/products/all.js","webpack://shinnan/./src/apis/products/details.js","webpack://shinnan/./src/apis/products/index.js","webpack://shinnan/./src/apis/users/details.js","webpack://shinnan/./src/apis/users/index.js","webpack://shinnan/./src/apis/users/login.js","webpack://shinnan/./src/apis/users/register.js","webpack://shinnan/./src/client/app.js","webpack://shinnan/./src/client/components/breadcrumb.js","webpack://shinnan/./src/client/components/carousel.js","webpack://shinnan/./src/client/components/footer.js","webpack://shinnan/./src/client/components/navbar.js","webpack://shinnan/./src/client/components/searchbar.js","webpack://shinnan/./src/client/pages/account.js","webpack://shinnan/./src/client/pages/cart.js","webpack://shinnan/./src/client/pages/homepage.js","webpack://shinnan/./src/client/pages/market.js","webpack://shinnan/./src/client/pages/order-history.js","webpack://shinnan/./src/client/pages/product-detail.js","webpack://shinnan/./src/client/pages/product-list.js","webpack://shinnan/./src/client/pages/user-detail.js","webpack://shinnan/./src/client/routes/index.js","webpack://shinnan/./src/client/service/index.js","webpack://shinnan/./src/client/service/server.js","webpack://shinnan/./src/default.js","webpack://shinnan/./src/user-manager/index.js","webpack://shinnan/external commonjs \"axios\"","webpack://shinnan/external commonjs \"cookie-parser\"","webpack://shinnan/external commonjs \"express\"","webpack://shinnan/external commonjs \"express-fileupload\"","webpack://shinnan/external commonjs \"react\"","webpack://shinnan/external commonjs \"react-dom/server\"","webpack://shinnan/external commonjs \"react-router-dom\"","webpack://shinnan/external commonjs \"react-router-dom/server\"","webpack://shinnan/external commonjs \"remarkable\"","webpack://shinnan/external node-commonjs \"fs\"","webpack://shinnan/external node-commonjs \"path\"","webpack://shinnan/webpack/bootstrap","webpack://shinnan/webpack/runtime/compat get default export","webpack://shinnan/webpack/runtime/define property getters","webpack://shinnan/webpack/runtime/hasOwnProperty shorthand","webpack://shinnan/webpack/runtime/make namespace object","webpack://shinnan/./src/index.js"],"sourcesContent":["export default function _delete ( req, res, conn ) {\n    const { name } = req.params;\n\n    if ( !name ) return res.send({\n        type: 'error',\n        message: 'The parameter \\'name\\' must be given.'\n    });\n\n    const queryString = 'DELETE FROM `files` WHERE `name` = ?;';\n\n    conn.query( queryString, [ name ], function ( err, result ) {\n        res.send({\n            name,\n            results: 'failed',\n            [ err ? 'reason': 'results' ]: err ?? 'success'\n        });\n    });\n}","export default function get ( req, res, conn ) {\n    const { name } = req.params;\n\n    if ( !name ) return res.send({\n        type: 'error',\n        message: 'The parameter \\'name\\' must be given.'\n    });\n\n    return conn.query('SELECT `files`.*, `file_data`.`data_id`, `file_data`.`data` FROM `files` JOIN `file_data` ON `id` = `file_id` WHERE `name` = ?;', [ name ], function ( err, results ) {\n\n        if ( err ) return res.send({\n            type: 'error',\n            reason: err\n        });\n\n        if ( !results?.length ) return res.send({\n            type: 'error',\n            message: `The file:'${ name }' was not found.`\n        });\n\n        const { type } = results?.[0];\n\n        res.set( 'content-type', type );\n\n        res.send( Buffer.concat( results.map( function ({ data }) {\n            return data;\n        })));\n    });\n}","import list from './list';\nimport get from './get';\nimport upload from './upload';\nimport update from './update';\nimport _delete from './delete';\n\nexport default function files ( req, res, conn ) {\n\n    res.set( 'content-type', 'application/json');\n    \n    const { method: requestMethod, params: { name: fileName }} = req;\n\n    const methods = {\n        GET: get,\n        POST: upload,\n        PUT: update,\n        DELETE: _delete\n    };\n\n    if ( !fileName ) return list( req, res, conn );\n    return ( methods[ requestMethod ] ?? function ( req, res ) {\n        res.send( {\n            type: 'error',\n            message: `Undefined request method: '${ requestMethod }' was used.`\n        });\n    })( req, res, conn );\n};","export default function list ( req, res, conn ) {\n\n    const queryString = 'SELECT *, CONCAT(\\'/api/files/\\', `files`.`name`) AS `url` FROM `files`;';\n\n    conn.query( queryString, [], function ( err, results ) {\n        if ( err ) throw err;\n        res.send( results );\n    });\n}","export default function update ( req, res, conn ) {\n    const { file } = req.files ?? {};\n    const { name } = req.params;\n\n    const result = { name };\n\n    return new Promise( function ( resolve, reject ) {\n        return conn.query( 'SELECT * FROM `files` WHERE `name` = ?;', [ name ], function ( err, results ) {\n            if ( err ) return reject([ 'reason', err ]);\n            if ( !results.length ) return reject([ 'msg', {\n                type: 'error',\n                message: `The file:'${ name }' was not found.`\n            }]);\n            \n            const { id: fileId, name: fileName, type, details } = results[0];\n\n            const newName = req.body?.name;\n\n            const result = Array(2);\n\n            return Promise.allSettled( [\n                new Promise( function ( resolve, reject ) {\n                    return conn.query( 'UPDATE `files` SET `name`= ?,`type`= ?,`details`= ? WHERE `name` = ?;', [\n                        newName ?? fileName,\n                        file?.mimetype ?? type,\n                        JSON.stringify( Object.assign( JSON.parse( details ), {\n                            latestUpdateDateTime: new Date().toISOString()\n                        })),\n                        fileName\n                    ], function ( err, result ) {\n                        return err ? reject( err ): resolve();\n                    });\n                }).catch( function ( reason ) {\n                    result[0] = reason\n                }),\n\n                file && new Promise( function ( resolve, reject ) {\n                    const { data } = file;\n\n                    const fragments = [];\n        \n                    for (let i = 0; i < data.length / 65535; i++ ) {\n                        fragments.push( data.slice(i * 65535, (i + 1) * 65535) );\n                    }\n        \n                    const results = [];\n\n                    return conn.query( 'DELETE FROM `file_data` WHERE `file_id` = ?;', [ fileId ], function ( err ) {\n                        return err ? reject( err ): Promise.allSettled( fragments.map( function ( fragment, index ) {\n\n                            results[ index ] = null;\n            \n                            return new Promise( function ( resolve, reject ) {\n                                return conn.query('INSERT INTO `file_data`(`file_id`, `data_id`, `data`) VALUES ( ?, ?, BINARY(?));', [\n                                    fileId, index, fragment\n                                ], function ( err, result ) {\n            \n                                    if ( err ) return reject( err );\n                                    \n                                    return resolve( result );\n                                });\n                            }).then( function ( result ) {\n                                return results[ index ] = result;\n                            }).catch( function ( reason ) {\n                                return results[ index ] = reason;\n                            });\n            \n                        })).then( function ( promises ) {\n                            Promise.all( promises ).then( function () {\n                                return resolve( results );\n                            }).catch( function () {\n                                return reject( results );\n                            });\n                        });;\n                    });\n                })\n            ]).then( function ( promises ) {\n                return Promise.all( promises ).then( resolve, function () {\n                    return reject([ 'reason', result.filter( Boolean )])\n                });\n            });\n        });\n    }).then( function () {\n        return res.send( Object.assign( result, { result: 'success' }));\n    }).catch( function ([ key, value ]) {\n        return res.send( Object.assign( result, { result: 'fail', [ key ]: value }));\n    });\n}","export default function upload ( req, res, conn ) {\n    const { file } = req.files ?? {};\n    const { name } = req.params;\n\n    if ( !file ) return res.send({\n        type: 'error',\n        message: 'There aren\\'t any files need to be uploaded, request with files by naming \\'file\\'.'\n    });\n\n    const { mimetype, data } = file;\n    const result = { name, mimetype };\n\n    return new Promise( function ( resolve, reject ) {\n\n        return conn.query('INSERT INTO `files`(`name`, `type`, `details`) VALUES ( ?, ?, ? )', [\n            name, mimetype, JSON.stringify({\n                uploadDateTime: new Date().toISOString()\n            })\n        ], function ( err, result ) {\n            \n            if ( err ) return reject( err );\n\n            const { insertId: fileId } = result;\n\n            const fragments = [];\n\n            for (let i = 0; i < data.length / 65535; i++ ) {\n                fragments.push( data.slice(i * 65535, (i + 1) * 65535) );\n            }\n\n            const results = [];\n\n            return Promise.allSettled( fragments.map( function ( fragment, index ) {\n\n                results[ index ] = null;\n\n                return new Promise( function ( resolve, reject ) {\n                    return conn.query('INSERT INTO `file_data`(`file_id`, `data_id`, `data`) VALUES ( ?, ?, BINARY(?))', [\n                        fileId, index, fragment\n                    ], function ( err, result ) {\n\n                        if ( err ) return reject( err );\n                        \n                        return resolve( result );\n                    });\n                }).then( function ( result ) {\n                    return results[ index ] = result;\n                }).catch( function ( reason ) {\n                    return results[ index ] = reason;\n                });\n\n            })).then( function ( promises ) {\n                Promise.all( promises ).then( function () {\n                    return resolve( results );\n                }).catch( function () {\n                    return reject( results );\n                });\n            });\n        });\n\n    }).then( function () {\n        return res.send( Object.assign( result, { result: 'success' }));\n    }).catch( function ( reason ) {\n        return res.send( Object.assign( result, { result: 'fail', reason }));\n    });\n}","import mysql from \"./mysql\";\n\nimport files from \"./files\";\nimport products from \"./products\";\nimport users from \"./users\";\n\nconst DBhost = process.env.DBHOST ?? 'http://203.68.249.7/shinnan/sql.php';\nconst DBaccount = process.env.DBACCOUNT ?? 'root';\nconst DBpassword = process.env.DBPASSWORD ?? '1qaz@WSX3edc';\nconst DBname = process.env.DBNAME ?? 'shinnanfarm';\n\nconst connection = mysql.createConnection( {\n    host: DBhost,\n    user: DBaccount,\n    password: DBpassword,\n    database: DBname\n});\n\nconst apiList = { files, products, users };\n\nfunction apis ( req, res ) {\n    const { params: { api } } = req;\n    return ( apiList[ api ] ?? function ( req, res ) {\n        res.send({\n            type: 'error',\n            message: `Unknown api: '${ api }' had been request.`\n        })\n    })( req, res, connection );\n}\n\nexport default apis;\n\nexport const routes = [\n    '/api',\n    '/api/:api',\n    '/api/:api/:name',\n    '/api/*'\n]","import axios from \"axios\";\r\n\r\nconst types = {\r\n    [[ \"VAR_STRING\", \"STRING\" ]]: String,\r\n    [[ \"TINY\", \"SHORT\", \"LONG\", \"LONGLONG\", \"INT24\", \"DOUBLE\" ]]: Number,\r\n    [[ \"DATETIME\", \"DATE\", \"TIMESTAMP\" ]]: Date,\r\n    [[ \"BLOB\" ]]: Buffer.from\r\n};\r\n\r\nconst errorCodes = {\r\n\r\n};\r\n\r\nclass Connection {\r\n\r\n    #connectConfigs;\r\n    #afterFatalError = false;\r\n\r\n    constructor ( configs ) {\r\n        const defaultConfigs =  {\r\n            connectTimeout: 1e4\r\n        }\r\n\r\n        this.#connectConfigs = Object.assign( defaultConfigs, configs );\r\n\r\n        this.query = this.query.bind( this );\r\n    }\r\n\r\n    get configs () {\r\n        return this.#connectConfigs;\r\n    }\r\n\r\n    query ( queryString, values, callback ) {\r\n\r\n        const { configs: { host, ...connectionConfigs }} = this;\r\n\r\n        const queryObject = {\r\n            queryString,\r\n            values,\r\n            callback\r\n        };\r\n        \r\n        const OnFatalErrorHappen = function () {\r\n            this.#afterFatalError = true;\r\n        }.bind( this );\r\n\r\n        const promise = new Promise( function ( resolve, reject ) {\r\n\r\n            const request = axios.request({\r\n                url: host,\r\n                method: \"post\",\r\n                data: {\r\n                    connection: JSON.stringify( connectionConfigs ),\r\n                    query: JSON.stringify({ queryString, values })\r\n                }\r\n            }).then( function ({ data: result }) {\r\n                return result.error ? reject( result.error ): resolve( result );\r\n            }).catch( function ( reason ) {\r\n                return reject( {\r\n                    errorInfo: reason,\r\n                    isFatal: true\r\n                });\r\n            });\r\n\r\n        }).then( function ( result ) {\r\n\r\n            const { results: datarows, fields } = result;\r\n            const results = [];\r\n            \r\n            for ( let row of datarows || [] ) {\r\n                const result = {};\r\n\r\n                for ( let field of fields )  {        \r\n                    const { name, native_type } = field;\r\n\r\n                    for ( let [ nativeTypes, method ] of Object.entries( types )) {\r\n                        if ( nativeTypes.includes( native_type ) ) {\r\n                            result[ name ] = method( row[name] );\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                results.push( result );\r\n            }\r\n\r\n            if ( callback instanceof Function ) callback( null, results, fields );\r\n            return result;\r\n\r\n        }).catch( function ( error ) {\r\n            console.log(error)\r\n            if ( callback instanceof Function ) callback( error );\r\n            if ( error?.isFatal ) OnFatalErrorHappen();\r\n        });\r\n\r\n        return queryObject;\r\n    }\r\n}\r\n\r\nconst mysql = {\r\n    createConnection ( configs ) {\r\n        return new Connection( configs );\r\n    }\r\n}\r\n\r\nexport default mysql;","export default function all ( req, res, conn ) {\n\n    const { includeAll } = req.body ?? {};\n\n    const queryString = `SELECT \\`products\\`.\\`name\\`, \\`products\\`.\\`price\\`, \\`products\\`.\\`stock\\`, \\`product_details\\`.\\`value\\` AS \\`images\\` FROM \\`products\\` LEFT OUTER JOIN \\`product_details\\` ON \\`products\\`.\\`id\\` = \\`product_details\\`.\\`product_id\\` WHERE ( \\`product_details\\`.\\`name\\` = \"IMG\" OR \\`product_details\\`.\\`name\\` IS NULL )${ includeAll? '': ' AND `products`.`released`' } ORDER BY \\`products\\`.\\`id\\`;`;\n    \n    conn.query( queryString, [], function ( err, results ) {\n        if ( err ) return res.send({\n            type: 'error',\n            reason: err\n        });\n        \n        return res.send( results.map( function ({ images, ...values }) {\n            return { ...values, images: JSON.parse( images ) };\n        }));\n    });\n}","// 指定細項名稱與對應處理方法\nconst diction = {\n    IMG: [ 'images', JSON.parse ],\n    INFO: [ 'information' ],\n    INTRO: [ 'introduce' ]\n};\n\nexport default function detail ( req, res, conn ) {\n\n    // 利用 JOIN 加入 [products]、[product_details] 共 2 張資料表\n    // 使用 LEFT OUTER 關鍵字確保所有商品至少會有一項出現於查詢結果中，不論是否有任何的詳細資料\n    const queryString = '\\\n    SELECT \\\n    `products`.*, `product_details`.`name` AS `detail_name`, `product_details`.`value` \\\n    FROM `products` \\\n    LEFT OUTER JOIN `product_details` ON `products`.`id` = `product_details`.`product_id` \\\n    WHERE `products`.`name` = ?;';\n\n    const values = [ req.params.name ];\n\n    conn.query( queryString, values, function ( err, results ) {\n        // 若查詢有誤，則印出錯誤原因\n        if ( err ) return res.send({\n            type: 'error',\n            reason: err\n        });\n\n        // 若無回傳資料，則印出查無商品\n        if ( !results.length ) return res.send({\n            type: 'error',\n            message: `Not found product named: '${ req.params.name }'.`\n        });\n\n        // 由第一筆資料取得名稱、價格、庫存資訊\n        const { name, price, stock } = results[0];\n\n        // 利用 Array 物件的 reduce 方法將對應的細項加入物件，並打印之\n        return res.send( results.reduce( function ( productDetail, { detail_name, value } ) {\n            if ( value == null ) return productDetail;\n            const [ key, method ] = diction[ detail_name ] ?? []\n            // 利用 Object 物件的 assign 方法將對應的細項以指定的方法處理後，以對應的細項名稱加入物件\n            return Object.assign( productDetail, {\n                [ key ?? detail_name ]: method ? method( value ): value\n            });\n        }, { name, price, stock }));\n    });\n}","import all from './all';\nimport details from './details';\n\nexport default function product ( req, res, conn ) {\n    res.set( 'content-type', 'application/json');\n    \n    const { method: requestMethod, params: { name: fileName }} = req;\n\n    const methods = {\n        GET: details,\n    }\n\n    if ( !fileName ) return all( req, res, conn );\n    return ( methods[ requestMethod ] ?? function ( req, res ) {\n        res.send( {\n            type: 'error',\n            message: `Undefined request method: '${ requestMethod }' was used.`\n        });\n    })( req, res, conn );\n};","import userManager from '../../user-manager';\r\n\r\nconst diction = {\r\n    NAME: [ \"name\" ],\r\n}\r\n\r\nexport default function details ( req, res, conn ) {\r\n    const { token, detailed } = req.body ?? {};\r\n    \r\n    const { userName, authority } =  userManager.getUser( token ) ?? {};\r\n            \r\n    const user = { userName, authority };\r\n    \r\n    if ( !Boolean( userName )) return res.send( false );\r\n    \r\n    if ( !detailed ) return res.send( user );\r\n\r\n    return Promise.all([ \r\n        new Promise ( function ( resolve, reject ) {\r\n            return conn.query(\r\n                \"SELECT `user_details`.`name`, `user_details`.`value` FROM `users` JOIN `user_details` ON `users`.`id` = `user_details`.`user_id` WHERE `users`.`account` = ?\",\r\n                [ userName ],\r\n                function ( error, results ) {\r\n                    if ( error ) return reject( error );\r\n    \r\n                    results.forEach( function ({ name, value }, index ) {\r\n                        const [ key, method ] = diction[ name ] ?? {};\r\n                        return Object( user, {\r\n                            [ key ?? name ]: method ? method( value ): value\r\n                        });\r\n                    });\r\n\r\n                    return resolve( user );\r\n                }\r\n            );\r\n        }),\r\n\r\n        new Promise( function ( resolve, reject ) {\r\n            return conn.query(\r\n                \"SELECT `orders`.`id`, `orders`.`details`, `products`.`name`, `products`.`price`, `product_details`.`value` AS `images`, `order_content`.`amount` FROM `orders` JOIN `users` ON `orders`.`user_id` = `users`.`id` JOIN `order_content` ON `orders`.`id` = `order_content`.`order_id` JOIN `products` ON `order_content`.`product_id` = `products`.`id` LEFT OUTER JOIN `product_details` ON `products`.`id` = `product_details`.`product_id` WHERE ( `product_details`.`name` = \\\"IMG\\\" OR `product_details`.`name` IS NULL ) AND `users`.`account` = ? ORDER BY `orders`.`id`, `products`.`id`\",\r\n                [ userName ],\r\n                function ( error, results ) {\r\n                    if ( error ) return reject( error );\r\n\r\n                    user.orders = Object.values( results.reduce( function ( orders, { id, details, name, price, images, amount }) {\r\n                        if ( !orders[id] ) orders[id] = { \r\n                            ...JSON.parse( details || {}),\r\n                            items: []\r\n                        };\r\n                        \r\n                        orders[id].items.push({ name, price, images: JSON.parse( images ), amount });\r\n                        return orders;\r\n                    }, {}));\r\n\r\n                    return resolve( user );\r\n                }\r\n            );\r\n        })\r\n    ]).then( function () {\r\n        return res.send( user );\r\n    }).catch( function ( reason ) {\r\n        return res.send( {\r\n            type: 'error',\r\n            reason\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * SELECT `products`.`name`, `products`.`price`, `order_content`.`amount`, `product_details`.`value` AS `images` FROM `orders` JOIN `users` ON `orders`.`user_id` = `users`.`id` JOIN `order_content` ON `orders`.`id` = `order_content`.`order_id` JOIN `products` ON `order_content`.`product_id` = `products`.`id` LEFT OUTER JOIN `product_details` ON `products`.`id` = `product_details`.`product_id` WHERE `product_details`.`name` = \"IMG\" OR `product_details`.`name` IS NULL AND `users`.`id` = 1\r\n */","import login from './login';\nimport details from './details';\nimport register from './register';\n\nexport default function users ( req, res, conn ) {\n    res.set( 'content-type', 'application/json');\n    \n    const { params: { name: method }} = req;\n\n    const methods = {\n        login,\n        details,\n        register\n    };\n\n    return ( methods[ method ] ?? function ( req, res ) {\n        res.send( {\n            type: 'error',\n            message: `Undefined request method: '${ method }' was used.`\n        });\n    })( req, res, conn );\n};","import userManager from '../../user-manager';\n\nexport default function login ( req, res, conn ) {\n\n    const queryString = \"SELECT * FROM `users` WHERE `account` = ? AND `password` = ?\";\n    const { userName, password } = req.body ?? {};\n\n    if ( !userName || !password ) return res.send({\n        type: 'error',\n        message: 'Parameters named \\'account\\' and \\'password\\' must been given.',\n    });\n\n    return conn.query( queryString, [ userName, password ], function ( err, results ) {\n        if ( err ) return res.send({\n            type: 'error',\n            reason: err\n        });\n        \n        if ( !results.length ) return res.send( false );\n\n        const user = {\n            userId: results[0].id,\n            userName: results[0].account,\n            password: results[0].password,\n            authority: results[0].authority\n        }\n\n        const token = userManager.setUser( user );\n\n        return res.send( JSON.stringify( token ));\n    });\n}","import userManager from '../../user-manager';\r\n\r\nexport default function register ( req, res, conn ) {\r\n\r\n    const queryString = \"INSERT INTO `users`(`account`, `password`) VALUES ( ?, ? )\";\r\n    \r\n    const { userName, password } = req.body ?? {};\r\n\r\n    if ( !userName || !password ) return res.send({\r\n        type: 'error',\r\n        message: 'Parameters named \\'userName\\' and \\'password\\' must been given.',\r\n    });\r\n\r\n    return conn.query( queryString, [ userName, password ], function ( err ) {\r\n        if ( err ) return res.send({\r\n            type: 'error',\r\n            reason: err\r\n        });\r\n\r\n        const user = { userName, password };\r\n\r\n        const token = userManager.setUser( user );\r\n\r\n        return res.send( {\r\n            userName,\r\n            result: 'success',\r\n            token\r\n        });\r\n    });\r\n}","import React, { useEffect } from \"react\";\r\nimport { useLocation, useRoutes } from \"react-router-dom\";\r\n\r\nimport Navbar from \"./components/navbar\";\r\nimport Footer from \"./components/footer\";\r\nimport routes from \"./routes\";\r\nimport { ServiceProvider } from \"./service\";\r\n\r\nexport default function App ( props ) {\r\n    const location = useLocation();\r\n    const service = props.cookies;\r\n\r\n    useEffect( function () {\r\n        service.checkUser();\r\n    }, []);\r\n    \r\n    return <ServiceProvider cookies={ service }>\r\n        <Navbar />\r\n        <div className=\"content-body\">{ useRoutes( routes, location ) }</div>\r\n        <Footer />\r\n    </ServiceProvider>;\r\n}","import React from \"react\";\r\n\r\nexport default function Breadcrumb ( props ) {\r\n    \r\n    return <div className=\"breadcrumb\">\r\n        { props.children?.map ? props.children.map( function ( child, index, children ) {\r\n            return <React.Fragment key={ index }>\r\n                <div>{ child }</div>\r\n                { index != children.length - 1 && <div className=\"separator\">{ props.separator ?? '/' }</div> }\r\n            </React.Fragment>\r\n        }): props.children }\r\n    </div>;\r\n}","import React, { useEffect, useState } from \"react\";\r\n\r\nfunction Carousel ({ children, interval, className, ...props }) {\r\n    \r\n    const items = children.filter( element => element );\r\n    const timeout = interval ?? 5000;\r\n\r\n    const [ current, setCurrent ] = useState( 0 );\r\n    const [ isAnimating, setAnimating ] = useState( false );\r\n    const [ intervalObject, setIntervalObject ] = useState( null );\r\n\r\n    setIntervalObject( setInterval( function nextTurn () {\r\n        setCurrent( ++current == items.length ? 0 : current );\r\n        setAnimating( true );\r\n    }, timeout ));\r\n\r\n    useEffect( function componentDidMount () {\r\n        if ( !isAnimating ) setTimeout( function () {\r\n            setAnimating( false );\r\n        }, 600 )\r\n\r\n        return function componentWillUnMount () {\r\n            clearInterval( intervalObject );\r\n        }\r\n    }, [ isAnimating ]);\r\n\r\n    return <div className={[ 'carousel', className ].filter( Boolean ).join(\" \")} { ...props }>\r\n        <div className=\"carousel-inner\">\r\n            { items.map( function ( item, index ) {\r\n                const className = [\r\n                    \"carousel-item\",\r\n                    current == index && \"active\",\r\n                    (current == items.length - 1 ? 0 : current + 1) == index && \"next\",\r\n                    isAnimating && (current || items.length) - 1 == index && \"animating\",\r\n                    isAnimating && current == index && \"animating\",\r\n                ].filter(Boolean).join(\" \");\r\n\r\n                return <div className={ className } key={ index }>\r\n                    { item }\r\n                </div>;\r\n            }) }\r\n        </div>\r\n    </div>;\r\n}\r\n\r\nexport default class _Carousel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        const items = this.props.children;\r\n\r\n        this.state = {\r\n            items,\r\n            current: 0,\r\n            isAnimating: false,\r\n            timeout: this.props.interval ?? 5000\r\n        };\r\n\r\n        this.nextTurn = this.nextTurn.bind(this);\r\n        this.renderItems = this.renderItems.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            interval: this.state.timeout && setInterval(this.nextTurn, this.state.timeout < 1000 ? 1000 : this.state.timeout)\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.state.timeout) clearInterval(this.state.interval);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.state.isAnimating) setTimeout(function () {\r\n            this.setState({\r\n                isAnimating: false\r\n            });\r\n        }.bind(this), 1000);\r\n    }\r\n\r\n    nextTurn() {\r\n        this.setState({\r\n            current: ++this.state.current == this.state.items.length ? 0 : this.state.current,\r\n            isAnimating: true\r\n        });\r\n    }\r\n\r\n    renderItems() {\r\n        const { current, items, isAnimating } = this.state;\r\n\r\n        return items.map( function (item, index) {\r\n            const className = [\r\n                \"carousel-item\",\r\n                current == index && \"active\",\r\n                (current == items.length - 1 ? 0 : current + 1) == index && \"next\",\r\n                isAnimating && (current || items.length) - 1 == index && \"animating\",\r\n                isAnimating && current == index && \"animating\",\r\n            ].filter(Boolean).join(\" \");\r\n\r\n            return <div className={className} key={index}>\r\n                {item}\r\n            </div>;\r\n        }.bind(this));\r\n    }\r\n\r\n    render() {\r\n        const { className, children, ...props } = this.props;\r\n\r\n        return <div className={[ 'carousel', className ].filter( Boolean ).join(\" \")} {...props}>\r\n            <div className=\"carousel-inner\">\r\n                { this.renderItems() }\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Footer extends React.Component {\r\n    render () {\r\n        return <footer>\r\n            <div className=\"container\">\r\n                <img src=\"/images/brand_white.svg\" alt=\"brand\" />\r\n                <div>\r\n                    <div style={{ padding: \"1rem\"}}>\r\n                        <h4>網站導覽</h4>\r\n                        <ul>\r\n                            <li><Link to=\"/\">首頁 - Home</Link></li>\r\n                            <li><Link to=\"/news\">最新消息 - News</Link></li>\r\n                            <li><Link to=\"/market\">線上商店 - Market</Link></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div style={{ padding: \"1rem\"}}>\r\n                        <h4>專題介紹</h4>\r\n                        <ul>\r\n                            <li><a href=\"/AIweb\" target=\"_blank\">專題介紹網站</a></li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <div style={{ padding: \"1rem\"}}>\r\n                        <h4>相關資訊</h4>\r\n                        <ul>\r\n                            <li>地址: 263宜蘭縣壯圍鄉新南路二段15號</li>\r\n                            <li>電話: <a href=\"tel:+88639254086\">03 925 4086</a></li>\r\n                            <li>電子郵件: <a href=\"mailto:kotyosis588696@gmail.com\">kotyosis588696@gmail.com</a></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div style={{ padding: \"1rem\"}}>\r\n                        <h4>相關連結</h4>\r\n                        <ul>\r\n                            <li><a href=\"https://www.tanosecure.com.tw/\">天龍安全科技官分網站</a></li>\r\n                            <li><a href=\"https://www.facebook.com/ProfessorPlanted/\">博士種的 Facebook 粉絲專頁</a></li>\r\n                            <li><a href=\"https://www.facebook.com/新南農園-1234272356657626/\">新南農園 Facebook 粉絲專頁</a></li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"copyright\">Copyright &copy; 2021, All rights reserved.</div>\r\n        </footer>\r\n    }\r\n}","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useService } from \"../service\";\r\n\r\nexport default function Navbar () {\r\n\r\n    const [ isCollapse, setCollapse ] = useState( true );\r\n    const [ navbarCollapse, setNavbarCollapse ] = useState( null );\r\n    const service = useService();\r\n\r\n    const togglerProps = {\r\n        className: [ 'navbar-toggler', !isCollapse && 'active' ].filter( Boolean ).join(\" \"),\r\n        role: 'button',\r\n        'aria-label': 'navbar toggler',\r\n        onClick: toggleNavbar\r\n    };\r\n\r\n    const collapseProps = {\r\n        className: [ 'navbar-collapse', isCollapse && 'collapsed' ].filter( Boolean ).join(\" \"),\r\n        style: isCollapse ? null : {\r\n            height: navbarCollapse?.children[0].getBoundingClientRect().height\r\n        },\r\n        ref: setNavbarCollapse\r\n    };\r\n    \r\n    function toggleNavbar () {\r\n        setCollapse( !isCollapse );\r\n    }\r\n\r\n    const [ user, setUser ] = useState( service.getUser());\r\n\r\n    useEffect( function () {\r\n        const listener = service.addListener( 'user', function () {\r\n            setUser( service.getUser());\r\n        });\r\n        \r\n        return function () {\r\n            service.removeListener( 'user', listener );\r\n        };\r\n    }, []);\r\n\r\n    return <nav id=\"navbar\" role=\"navigation\">\r\n        <div className=\"navbar-container\">\r\n            <Link to=\"/\" className=\"navbar-brand\"><img src=\"/images/brand.svg\" alt=\"新南智慧農園\" /></Link>\r\n            <button { ...togglerProps }><span className=\"navbar-toggler-icon\"></span></button>\r\n            <div { ...collapseProps }>\r\n                <div className=\"navbar-collapse-wrapper\">\r\n                    <div className=\"navbar-nav\">\r\n                        <div className=\"nav-item\"><Link to=\"/\" className=\"nav-link\">首頁</Link></div>\r\n                        <div className=\"nav-item\"><Link to=\"/news\" className=\"nav-link\">最新消息</Link></div>\r\n                        <div className=\"nav-item\"><Link to=\"/market\" className=\"nav-link\">線上商店</Link></div>\r\n                        <div className=\"nav-item\"><Link to=\"/account\" className=\"nav-link nav-option\"><i className=\"icon\">{ '\\uE77B' }</i> { user ? '會員中心': '登入 / 註冊'}</Link></div>\r\n                        <div className=\"nav-item\"><Link to=\"/cart\" className=\"nav-link nav-option\"><i className=\"icon\">{ '\\uF342' }</i> 我的商品</Link></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </nav>;\r\n}","import React, { useState } from \"react\";\r\n\r\nexport default function Searchbar ( props ) {\r\n    const [ searchBox, getSearchBox ] = useState( null );\r\n\r\n    function submitHandler ( event ) {\r\n        event.preventDefault();\r\n        console.log( searchBox.value );\r\n    }\r\n\r\n    return <form className=\"searchbar\" onSubmit={ submitHandler }>\r\n        <input type=\"text\" ref={ getSearchBox } placeholder=\"搜索…\" />\r\n        <button type=\"submit\"><i className=\"icon icon-alt icon-bold\">{ '\\uE721' }</i></button>\r\n    </form>\r\n}","import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { Link, Outlet } from \"react-router-dom\";\r\nimport { store, useService } from \"../service\";\r\n\r\nexport default function Account () {\r\n    const service = useService();\r\n    const [ user, setUser ] = useState( service.getUser());\r\n\r\n    useEffect( function () {\r\n\r\n        const listenter = service.addListener( 'user', function () {\r\n            const user = service.getUser();\r\n            setUser( user );\r\n        });\r\n\r\n        return function () {\r\n            service.removeListener( 'user', listenter );\r\n        }\r\n    }, []);\r\n\r\n    function login ( userName, password ) {\r\n        return service.userLogin( userName, password ).then( function ( token ) {\r\n            setUser( token );\r\n            return token;\r\n        });\r\n    }\r\n\r\n    function logout () {\r\n        service.userLogout();\r\n        setUser( null );\r\n    }\r\n\r\n    function register ( userName, password ) {\r\n        return service.userRegister( userName, password ).then( function ( token ) {\r\n            setUser( token );\r\n            return token;\r\n        });\r\n    }\r\n    \r\n    return <div id=\"account\">\r\n        { user ? <AccountDetail logout={ logout } user={ user }/>: <Forms login={ login } register={ register } /> }\r\n    </div>;\r\n}\r\n\r\nfunction Forms ({ login, register }) {\r\n\r\n    const [ form, setForm ] = useState( true );\r\n\r\n    function setLogin () {\r\n        setForm( true );\r\n    }\r\n\r\n    function setRegister () {\r\n        setForm( false );\r\n    }\r\n\r\n    return <div id=\"form\" className=\"navbar-space\">\r\n        <div className=\"form\">\r\n            <h2><span onClick={ setLogin } data-current={ form }>會員登入</span> / <span onClick={ setRegister } data-current={ !form }>註冊新會員</span></h2>\r\n            { form ? <LoginForm login={ login }/>: <RegisterForm register={ register } /> }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nfunction LoginForm ({ login }) {\r\n\r\n    const [ isLoading, setLoadingState ] = useState( false );\r\n\r\n    const [ userNameElement, setUserNameElement ] = useState( null );\r\n    const [ passwordElement, setPasswordElement ] = useState( null );\r\n\r\n    const [ inputError, setInputError ] = useState( false );\r\n    \r\n    function onSubmitHandle ( event ) {\r\n        event.preventDefault();\r\n\r\n        setLoadingState( true );\r\n\r\n        login( userNameElement.value, passwordElement.value ).catch( function () {\r\n            setLoadingState( false );\r\n            setInputError( true );\r\n        });\r\n    }\r\n\r\n    return <form onSubmit={ onSubmitHandle }>\r\n        <label>\r\n            <span>用戶名稱</span>\r\n            <input name=\"username\" type=\"text\" placeholder=\"\" ref={ setUserNameElement } autoComplete=\"off\" required/>\r\n        </label>\r\n        <label>\r\n            <span>用戶密碼</span>\r\n            <input type=\"password\" ref={ setPasswordElement } autoComplete=\"off\" required/>\r\n        </label>\r\n        { inputError && <span className=\"error-message\">帳號或密碼錯誤</span> }\r\n        <button type=\"submit\" aria-label=\"登入按鈕\" disabled={ isLoading }>{ isLoading ? '載入中': '登入' }</button>\r\n    </form>;\r\n}\r\n\r\nfunction RegisterForm ( props ) {\r\n\r\n    const { register } = props;\r\n\r\n    const [ isLoading, setLoadingState ] = useState( false );\r\n\r\n    const [ userNameElement, setUserNameElement ] = useState( null );\r\n    const [ passwordElement, setPasswordElement ] = useState( null );\r\n    const [ passwordConfirm, setPasswordConfirm ] = useState( null );\r\n\r\n    const [ inputError, setInputError ] = useState( false );\r\n\r\n    function onSubmitHandle ( event ) {\r\n        event.preventDefault();\r\n        let error = 0;\r\n\r\n        if ( passwordConfirm.value !== passwordElement.value ) {\r\n            error += 2\r\n        };\r\n\r\n        if ( passwordElement.value.length < 8 ) {\r\n            error += 4\r\n        };\r\n\r\n        if ( error ) return setInputError( error );\r\n\r\n        register( userNameElement.value, passwordElement.value ).catch( function () {\r\n            setInputError(1);\r\n            setLoadingState( false );\r\n        });\r\n    }\r\n\r\n    return <form onSubmit={ onSubmitHandle }>\r\n        <label>\r\n            <span>用戶名稱</span>\r\n            <input type=\"text\" ref={ setUserNameElement } name=\"username\" autoComplete=\"off\" required />\r\n        </label>\r\n        <label>\r\n            <span>用戶密碼</span>\r\n            <input type=\"password\" ref={ setPasswordElement } autoComplete=\"off\" placeholder=\"最少應有 8 個字元\" required />\r\n        </label>\r\n        <label>\r\n            <input type=\"password\" ref={ setPasswordConfirm } autoComplete=\"off\" placeholder=\"請再次輸入密碼\" required />\r\n        </label>\r\n\r\n        { Boolean( inputError & 1 ) && <span className=\"error-message\">使用者帳號已被使用</span> }\r\n        { Boolean( inputError & 2 ) && <span className=\"error-message\">輸入密碼並不相同</span> }\r\n        { Boolean( inputError & 4 ) && <span className=\"error-message\">密碼最少應有 8 個字元</span> }\r\n\r\n        <button type=\"submit\" aria-label=\"註冊按鈕\" disabled={ isLoading }>{ isLoading ? '載入中': '註冊' }</button>\r\n    </form>;\r\n}\r\n\r\nconst AccountInformation = createContext();\r\n\r\nfunction AccountDetail ( props ) {\r\n    const { user: userToken } = props;\r\n    const [ user, setUserDetail ] = useState( store.userDetail );\r\n\r\n    useEffect( function () {\r\n        if ( !user ) store.request( 'userDetail', 'userDetail', userToken ).then( setUserDetail );\r\n    }, []);\r\n\r\n    console.log( user )\r\n\r\n    return <div className=\"navbar-space container account-layout\" style={{ maxWidth: \"var(--max-width-container-xl)\" }}>\r\n        <AccountMenu />\r\n        <AccountInformation.Provider value={ user }>\r\n            <Outlet />\r\n        </AccountInformation.Provider>\r\n    </div>;\r\n}\r\n\r\nfunction AccountMenu () {\r\n    return <div className=\"account-menu\">\r\n        <Link to=\"/account\">用戶資訊</Link>\r\n        <Link to=\"/account/orders\">訂單記錄</Link>\r\n    </div>;\r\n}\r\n\r\nexport function useAccountInformation () {\r\n    return useContext( AccountInformation );\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useService, store } from \"../service\";\r\n\r\n// 購物車的頁面\r\nexport default function Cart () {\r\n\r\n    const service = useService();\r\n\r\n    // 使用 useState Hook 建立 cart、products State\r\n    const [ cart, setCart ] = useState( service.getCart());\r\n    const [ products, setProductList ] = useState( store.productList ?? [] );\r\n\r\n    useEffect( function () {\r\n        // 監聽購物車，若有任何變動，則更新 cart State 內容\r\n        const listener = service.addListener( \"cart\", function () {\r\n            return setCart( service.getCart() );\r\n        });\r\n\r\n        // 當組件將要卸載，註消監聽器\r\n        return function () {\r\n            return service.removeListener( \"cart\", listener );\r\n        };\r\n    }, []);\r\n\r\n    // 若沒有取得商品清單，則嘗試取得，並將結果儲存至 products State\r\n    useEffect( function () {\r\n        if ( !products ) store.request( 'productList' ).then( setProductList );\r\n    }, []);\r\n\r\n    return <div id=\"cart-page\">\r\n        <div \r\n            className=\"navbar-space container\"\r\n            style={{ maxWidth: \"var(--max-width-container-xl)\"}}\r\n        >\r\n            { // 若購物車中有任何商品，則在商品清單載入後顯示頁面內容\r\n                Object.entries( cart ).length ? \r\n                    products ?\r\n                        <CartComponent cart={ cart } productList={ products } />\r\n                    :\r\n                        <Loading />\r\n                : <CartEmpty />\r\n            }\r\n        </div>\r\n    </div>;\r\n}\r\n\r\nCart.getInitialData = function () {\r\n    return store.request( 'productList' );\r\n}\r\n\r\nfunction CartComponent ( props ) {\r\n\r\n    const { cart, productList } = props;\r\n\r\n    const products = Object.fromEntries( productList.map( function ({ name, ...rest }) {\r\n        return [ name, rest ];\r\n    }));\r\n\r\n    return  <div className=\"cart-layout\">\r\n        <CartList {...{ cart, products }}/>\r\n        <CartSummary {...{ cart, products }}/>\r\n    </div>;\r\n}\r\n\r\nfunction CartList ( props ) {\r\n\r\n    const { cart, products } = props;\r\n\r\n    function renderCartItems ( cart, products ) {\r\n        return Boolean( products ) && Object.entries( cart ).sort().map( function ([ name, count ]) {\r\n            const { price, images } = products[ name ] ?? {};\r\n    \r\n            return <div className=\"product-row\" key={ name }>\r\n                <img className=\"product-image\" src={ `/api/files/${images?.[0] ?? \"default_product.svg\"}` }/>\r\n                <div className=\"product-name\">{ name }</div>\r\n                <div className=\"product-price\">{ price }</div>\r\n                <div className=\"product-count\">{ count }</div>\r\n                <div className=\"product-price\">{ count * price }</div>\r\n            </div>;\r\n        });\r\n    }\r\n\r\n    return <div className=\"cart-list\">\r\n        <div className=\"product-row product-title-row\">\r\n            <div>商品圖片</div>\r\n            <div>商品名稱</div>\r\n            <div>價格</div>\r\n            <div>數量</div>\r\n            <div>小計</div>\r\n        </div>\r\n        { renderCartItems( cart, products ) }\r\n    </div>;\r\n}\r\n\r\nfunction Loading () {\r\n    return \"Loading...\";\r\n}\r\n\r\nfunction CartSummary ( props ) {\r\n\r\n    const { cart, products } = props;\r\n\r\n    const [ selectElement, setSelectElement ] = useState( null );\r\n\r\n    function count () {\r\n        return Object.values( cart ).reduce( function ( prev, amount ) {\r\n            return prev + amount;\r\n        }, 0 );\r\n    }\r\n\r\n    function total () {\r\n        return Object.entries( cart ).reduce( function ( prev, [ name, amount ]) {\r\n            return prev + amount * products[ name ].price;\r\n        }, 0 );\r\n    }\r\n\r\n    function orderTotal () {\r\n        return total() + +(selectElement?.value ?? 50);\r\n    }\r\n\r\n    return <div className=\"cart-summary\">\r\n        <div className=\"summary-header\">總計摘要</div>\r\n        <div className=\"summary-body\">\r\n            <div className=\"summary-items-count summary-row\">\r\n                總數\r\n                <span>{ count() }</span>\r\n            </div>\r\n            <div className=\"summary-items-total summary-row\">\r\n                總價\r\n                <span>{ total() }</span>\r\n            </div>\r\n            <div className=\"summary-shipping-fees\">\r\n                運費\r\n                <select defaultValue={ 50 } ref={ setSelectElement }>\r\n                    <option value={ 50 }>標準運費 - NT$ 50.00</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"summary-order-total summary-row\">\r\n                合計\r\n                <span>{ orderTotal() }</span>\r\n            </div>\r\n            <label className=\"summary-form\">\r\n                收件人\r\n                <input type=\"text\" name=\"name\" placeholder=\"收件人姓名\" title=\"請輸入收件人的姓名\"/>\r\n            </label>\r\n            <label className=\"summary-form\">\r\n                聯絡電話\r\n                <input type=\"text\" name=\"tel\" placeholder=\"手機或電話號碼\" pattern=\"[0-9]\" title=\"請輸入您的手機或電話號碼\"/>\r\n            </label>\r\n            <label className=\"summary-form\">\r\n                送貨地址\r\n                <input type=\"text\" name=\"address\" placeholder=\"僅限台灣、澎湖、金門以及馬祖地區\" title=\"請輸入送貨的收件地址\"/>\r\n            </label>\r\n            <div className=\"summary-text\">\r\n                ※匯款帳戶：[12346789]\r\n            </div>\r\n            <div className=\"summary-text\">\r\n                ※匯款時，請在備註欄填寫您的姓名、聯絡方式以及訂單摘要，以便於處理。\r\n                訂單摘要將在送出訂單後生成。\r\n            </div>\r\n            <div className=\"summary-text\">\r\n                ※請於 3 日內完成匯款，否則將自動取消訂單。\r\n                若有任何問題請聯絡客服人員，我們將為您服務。\r\n            </div>\r\n            <div className=\"summary-row\">\r\n                <button className=\"summary-clear\">清空購物車</button>\r\n                <button className=\"summary-checkout\">送出訂單</button>\r\n            </div>\r\n        </div>\r\n    </div>;\r\n}\r\n\r\nfunction CartEmpty ( props ) {\r\n    return <div>\r\n        購物車尚無任何商品哦!\r\n    </div>\r\n}","import React from \"react\";\r\n\r\nimport Carousel from \"../components/carousel\";\r\n\r\nexport default class HomePage extends React.Component {\r\n    render () {\r\n        return <div id=\"homepage\">\r\n            <SectionHeader />\r\n            <SectionAbout />\r\n        </div>;\r\n    }\r\n}\r\n\r\nclass SectionHeader extends React.Component {\r\n    render () {\r\n        return <section className=\"header\">\r\n        <Carousel className=\"fade\" interval={ 4000 }>\r\n            <div className=\"img\" style={{ backgroundImage: \"url(images/001.jpg)\"}}>\r\n\r\n            </div>\r\n            <div className=\"img\" style={{ backgroundImage: \"url(images/002.jpg)\"}}>\r\n                \r\n            </div>\r\n            <div className=\"img\" style={{ backgroundImage: \"url(images/003.jpg)\"}}>\r\n                \r\n            </div>\r\n        </Carousel>\r\n        <div className=\"content\">\r\n            <img src=\"images/white_vertical.svg\" />\r\n        </div>\r\n    </section>;\r\n    }\r\n}\r\n\r\nclass SectionAbout extends React.Component {\r\n    render () {\r\n        return <section className=\"about\">\r\n            <h2>農業 &times; 物連網</h2>\r\n            <div className=\"container\">\r\n                <div className=\"block\">\r\n                    <div className=\"info\"></div>\r\n                    <div className=\"image\"></div>\r\n                </div>\r\n            </div>\r\n        </section>;\r\n    }\r\n}","import React from \"react\";\r\nimport { Outlet } from \"react-router-dom\";\r\n\r\nexport default function Market () {\r\n    return <div id=\"market\">\r\n        <div className=\"navbar-space container\" style={{ maxWidth: 'var(--max-width-container-xl)' }}>\r\n            <Outlet />\r\n        </div>\r\n    </div>\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function OrderHistory () {\r\n    return <></>\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { Remarkable } from \"remarkable\";\r\n\r\nimport Breadcrumb from \"../components/breadcrumb\";\r\nimport Carousel from \"../components/carousel\";\r\nimport { store, useService } from \"../service\";\r\n\r\nexport default function GoodDetailPage () {\r\n    const { name } = useParams();\r\n    const [ data, setData ] = useState( store[`product-${name}`] );\r\n\r\n    useEffect( function componentDidUpdate() {\r\n        if ( data?.name != name ) store.request( 'productDetail', `product-${name}`, name ).then( setData );\r\n    }, []);\r\n\r\n    console.log( data )\r\n\r\n    return <div id=\"good-detail\">\r\n        <Breadcrumb>\r\n            <Link to=\"/market\">線上商店</Link>\r\n            { name }\r\n        </Breadcrumb>\r\n        { data?.name == name ? <GoodDetail data={ data } />: \"LOADING\" }\r\n    </div>;\r\n}\r\n\r\nfunction GoodDetail ({ data }) {\r\n\r\n    const service = useService();\r\n    const [ cart, setCart ] = useState( service.getCart());\r\n\r\n    const [ numberInput, setNumberInputElement ] = useState( null );\r\n    \r\n    const [ cartCount, setCartCount ] = useState( cart[ data.name ]);\r\n    let [ count, setCount ] = useState( cartCount ?? 1);\r\n\r\n    useEffect( function () {\r\n\r\n        const cartListener = service.addListener( 'cart', function () {\r\n            const cart = service.getCart();\r\n            setCart( cart );\r\n            setCartCount( cart[ data.name ]);\r\n        });\r\n\r\n        return function () {\r\n            service.removeListener( 'cart', cartListener );\r\n        };\r\n    }, []);\r\n\r\n    useEffect( function () {\r\n        if ( numberInput ) numberInput.value = cartCount ?? count;\r\n    }, [ numberInput ]);\r\n\r\n    useEffect( function () {\r\n        service.cartSet( data.name, cartCount && count );\r\n    }, [ count ]);\r\n\r\n    function increase () {\r\n        let change = ++count > data.stock ? data.stock: count\r\n        setCount( change );\r\n        numberInput.value = change;\r\n    }\r\n\r\n    function decrease () {\r\n        let change = --count < 1 ? 1: count\r\n        setCount( --count < 1 ? 1: count );\r\n        numberInput.value = change;\r\n    }\r\n\r\n    function changeHandler () {\r\n        let change = numberInput.value > 0 ? numberInput.value > data.stock ? data.stock : numberInput.value : 1;\r\n        setCount( change );\r\n        numberInput.value = change;\r\n    }\r\n\r\n    function cartToggler () {\r\n        const count = numberInput.value;\r\n        service.cartSet( data.name, cartCount ? 0: count );\r\n    }\r\n\r\n    const md = new Remarkable();\r\n\r\n    return  <>\r\n        <div className=\"good-detail-row\">\r\n            { data?.images?.map ? <Carousel className=\"good-detail-images fade\">\r\n                { data.images.map( function ( name ) {\r\n                    return <img src={ `/api/files/${ name }` } alt={ name } key={ name }/>;\r\n                })}\r\n            </Carousel>: <img className=\"good-detail-images\" src=\"/api/files/default_product.svg\" alt={ data.name }/>}\r\n            <div className=\"good-detail-info\">\r\n                <h1 className=\"good-name\">{ data.name }</h1>\r\n                <div className=\"good-price\">NT$ <span>{ data.price }</span></div>\r\n                <div className=\"good-info\">{ data.information }</div>\r\n                {\r\n                data.stock ?\r\n                    <div className=\"good-control\">\r\n                        <div className=\"good-count\">\r\n                            <button className=\"icon\" aria-label=\"decrease\" onClick={ decrease } disabled={ count == 1 }>&#xE949;</button>\r\n                            <input onChange={ changeHandler } ref={ setNumberInputElement } type=\"number\" max={ data.stock } min={ 1 } />\r\n                            <button className=\"icon\" aria-label=\"increase\" onClick={ increase } disabled={ count == data.stock }>&#xE948;</button>\r\n                        </div>\r\n                        {\r\n                            cartCount ?\r\n                                <button className=\"good-cart-remove\" onClick={ cartToggler }>移出購物車</button>\r\n                            :\r\n                                <button className=\"good-cart-add\" onClick={ cartToggler }>加入購物車</button>\r\n                        }\r\n                    </div>\r\n                : \r\n                    <div className=\"good-control\">\r\n                        <button className=\"good-cart-add\" disabled>目前尚無庫存</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n        { Boolean( data.introduce ) && <div className=\"good-detail-intro\" dangerouslySetInnerHTML={{ __html: md.render( data.introduce ) }}></div> }\r\n    </>;\r\n}\r\n\r\nGoodDetailPage.getInitialData = async function ({ name }) {\r\n    return store.request( 'productDetail', `product-${name}`, name );\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Searchbar from \"../components/searchbar\";\r\nimport { store } from \"../service\";\r\n\r\nexport default function ProductList () {\r\n\r\n    const [ productList, setProductList ] = useState( store.productList );\r\n\r\n    useEffect( function componentDidMount () {\r\n        if ( !productList ) store.request( 'productList' ).then( setProductList );\r\n    }, []);\r\n\r\n    return <div id=\"product-list\">\r\n        <Searchbar />\r\n        <div className=\"product-list-container\">\r\n            { productList ? productList.type ? \"ERROR\": <ProductListComponent productList={ productList } />: <div>Loading...</div> }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nProductList.getInitialData = function () {\r\n    return store.request( 'productList' );\r\n}\r\n\r\nfunction ProductListComponent ( props ) {\r\n    const { page = 0, prePage = 20, productList } = props;\r\n\r\n    return productList.slice( page * prePage, ( page + 1 ) * prePage ).map( function ( product, index ) {\r\n        return <Link className=\"product-card\" key={ product.name } to={ product.name }>\r\n            <img className=\"product-image\" src={ `/api/files/${ product?.images?.[0] ?? \"default_product.svg\" }` } alt={ product.name } />\r\n            <div className=\"product-name\">{ product.name }</div>\r\n            <div className=\"product-intro\">\r\n                <div className=\"product-price\">{ product.price }</div>\r\n                <div className=\"product-detail\">\r\n                    <div className=\"product-stock\"><i className=\"icon\">&#xEECB;</i> 庫存 { product.stock }</div>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n    });\r\n}","import React, { useState } from 'react';\r\nimport { useService } from '../service';\r\nimport { useAccountInformation } from './account';\r\n\r\nexport default function UserDetail () {\r\n\r\n    const user = useAccountInformation();\r\n\r\n    return <div id=\"user-detail\">\r\n        { Boolean( user ) && <>\r\n            <h1>用戶資訊</h1>\r\n            <AccountInfoForm />\r\n            <UserInfoForm />\r\n            <OrderDefaultForm />\r\n        </> }\r\n    </div>;\r\n}\r\n\r\nfunction AccountInfoForm () {\r\n    const service = useService();\r\n    const user = useAccountInformation() ?? {};\r\n\r\n    const [ isLoading, setLoadingState ] = useState( false );\r\n\r\n    const [ userNameInput, setUserNameInputElement ] = useState();\r\n    const [ passwordInput, setPasswordInputElement ] = useState();\r\n    const [ comfirmInput, setPasswordComfirmElement ] = useState();\r\n\r\n    const [ inputError, setInputError ] = useState( false );\r\n\r\n    function submitHandler ( event ) {\r\n        event.preventDefault();\r\n        let error = 0;\r\n\r\n        if ( passwordConfirm.value !== passwordElement.value ) {\r\n            error += 2\r\n        };\r\n\r\n        if ( passwordElement.value.length < 8 ) {\r\n            error += 4\r\n        };\r\n\r\n        if ( error ) return setInputError( error );\r\n\r\n        return ;\r\n\r\n        service.register( userNameElement.value, passwordElement.value ).catch( function () {\r\n            setInputError(1);\r\n            setLoadingState( false );\r\n        });\r\n    }\r\n    return <form onSubmit={ submitHandler }>\r\n        <h2>帳戶資訊</h2>\r\n        <label className=\"summary-form\">\r\n            帳號\r\n            <input type=\"text\" ref={ setUserNameInputElement } placeholder=\"帳號\" title=\"請輸入您的姓名\" defaultValue={ user.userName } required/>\r\n        </label>\r\n        <label className=\"summary-form\">\r\n            密碼\r\n            <input type=\"password\" ref={ setPasswordInputElement } placeholder=\"最少應有 8 個字元\" required/>\r\n        </label>\r\n        <label className=\"summary-form\">\r\n            <input type=\"password\" ref={ setPasswordComfirmElement } placeholder=\"請再次輸入密碼\" required/>\r\n        </label>\r\n\r\n        { Boolean( inputError & 1 ) && <span className=\"error-message\">使用者帳號已被使用</span> }\r\n        { Boolean( inputError & 2 ) && <span className=\"error-message\">輸入密碼並不相同</span> }\r\n        { Boolean( inputError & 4 ) && <span className=\"error-message\">密碼最少應有 8 個字元</span> }\r\n\r\n        <button type=\"submit\" disabled={ isLoading }>{ isLoading ? '載入中': '更改' }</button>\r\n        <button type='reset'>重設</button>\r\n    </form>;\r\n}\r\n\r\nfunction UserInfoForm () {\r\n\r\n    const user = useAccountInformation();\r\n\r\n    const [ nameInput, setNameInputElement ] = useState();\r\n    const [ emailInput, setEmailInputElement ] = useState();\r\n\r\n    function submitHandler ( event ) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    return <form onSubmit={ submitHandler }>\r\n        <h2>使用者資訊</h2>\r\n        <label className=\"summary-form\">\r\n            姓名\r\n            <input type=\"text\" ref={ setNameInputElement } placeholder=\"使用者姓名\" title=\"請輸入您的姓名\" defaultValue={ user.name }/>\r\n        </label>\r\n        <label className=\"summary-form\">\r\n            電子郵件\r\n            <input type=\"email\" ref={ setEmailInputElement } placeholder=\"使用者的電子郵件\" pattern=\"[0-9]\" title=\"請輸入您的電子郵件\" defaultValue={ user.email }/>\r\n        </label>\r\n        <button type='submit'>更改</button>\r\n        <button type='reset'>重設</button>\r\n    </form>;\r\n}\r\n\r\nfunction OrderDefaultForm () {\r\n\r\n    const user = useAccountInformation() ?? {};\r\n\r\n    const [ nameInput, setNameInputElement ] = useState();\r\n    const [ telInput, setTelInputElement ] = useState();\r\n    const [ AddrInput, setAddrInputElement ] = useState();\r\n\r\n    function submitHandler ( event ) {\r\n        event.preventDefault();\r\n    }\r\n\r\n    return <form onSubmit={ submitHandler }>\r\n        <h2>訂單資訊</h2>\r\n        <p>以下資料將作為預設的訂單資訊，訂單送出前可再作修改。</p>\r\n        <label className=\"summary-form\">\r\n            收件人\r\n            <input type=\"text\" ref={ setNameInputElement } placeholder=\"收件人姓名\" title=\"請輸入收件人的姓名\" defaultValue={ user.recipient }/>\r\n        </label>\r\n        <label className=\"summary-form\">\r\n            聯絡電話\r\n            <input type=\"text\" ref={ setTelInputElement } placeholder=\"手機或電話號碼\" pattern=\"[0-9]\" title=\"請輸入您的手機或電話號碼\" defaultValue={ user.tel }/>\r\n        </label>\r\n        <label className=\"summary-form\">\r\n            送貨地址\r\n            <input type=\"text\" ref={ setAddrInputElement } placeholder=\"僅限台灣、澎湖、金門以及馬祖地區\" title=\"請輸入送貨的收件地址\" defaultValue={ user.address }/>\r\n        </label>\r\n        <button type='submit'>更改</button>\r\n        <button type='reset'>重設</button>\r\n    </form>;\r\n}","import React from \"react\";\r\nimport { Outlet } from \"react-router-dom\";\r\n\r\nimport ProdcutDetail from \"../pages/product-detail\";\r\nimport HomePage from \"../pages/homepage\";\r\nimport Market from \"../pages/market\";\r\nimport ProductList from \"../pages/product-list\";\r\nimport Account from \"../pages/account\";\r\nimport Cart from \"../pages/cart\";\r\nimport UserDetail from \"../pages/user-detail\";\r\nimport OrderHistory from \"../pages/order-history\";\r\n\r\nexport default [ {\r\n    path: '/',\r\n    element: <HomePage />\r\n}, {\r\n    path: '/market',\r\n    element: <Market />,\r\n    children: [ {\r\n        path: '/market',\r\n        element: <ProductList />\r\n    }, {\r\n        path: '/market/:name',\r\n        element: <ProdcutDetail />\r\n    }]\r\n}, {\r\n    path: '/account',\r\n    element: <Account />,\r\n    children: [ {\r\n        path: '/account',\r\n        element: <UserDetail />\r\n    }, {\r\n        path: '/account/orders',\r\n        element: <OrderHistory />\r\n    }]\r\n}, {\r\n    path: '/cart',\r\n    element: <Cart />\r\n}, {\r\n    path: '*',\r\n    element: <Outlet />\r\n}]\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst ServiceContext = React.createContext( null );\r\nServiceContext.displayName = \"Service\";\r\n\r\nexport function useService () {\r\n    return React.useContext( ServiceContext );\r\n}\r\n\r\nexport function ServiceProvider ( props ) {\r\n    const { cookies, children } = props;\r\n    return <ServiceContext.Provider value={ cookies }>\r\n        { children }\r\n    </ServiceContext.Provider>\r\n}\r\n\r\nexport function cookieHandler ( cookie ) {\r\n\r\n    const listeners = {};\r\n\r\n    function triggerEvent( ...events ) {\r\n        const cookies = cookie.loadAll();\r\n\r\n        for ( let event of events ) {\r\n            \r\n            const eventListeners = listeners[ event ] ?? [];\r\n            let tmp = true;\r\n\r\n            for ( let { listener, once } of eventListeners ) {\r\n                if ( once ) tmp = false;\r\n                listener( cookies );\r\n            };\r\n\r\n            if ( tmp ) return ;\r\n\r\n            for ( let index = 0; index < eventListeners.length; index++ ) if ( eventListeners[ index ].once ) {\r\n                eventListeners.splice( index, 1 );\r\n                index--;\r\n            }\r\n        }\r\n    }\r\n\r\n    return {\r\n\r\n        userLogin ( userName, password ) {\r\n\r\n            const reqBody = new FormData();\r\n\r\n            reqBody.append( \"userName\", userName );\r\n            reqBody.append( \"password\", password );\r\n\r\n            return new Promise( function ( resolve, reject ) {\r\n                axios.request( {\r\n                    url: \"/api/users/login\",\r\n                    method: \"post\",\r\n                    data: { userName, password }\r\n                }).then( function ( res ) {\r\n                    const token = res.data;\r\n                    if ( token ) {\r\n                        cookie.save( 'userToken', token, { path: '/' });\r\n                        return resolve( token );\r\n                    };\r\n                    reject();\r\n                });\r\n            }).then( function ( token ) {\r\n                triggerEvent( 'user' );\r\n                return token;\r\n            });\r\n        },\r\n\r\n        userLogout () {\r\n            cookie.remove( \"userToken\", { path: \"/\" });\r\n            triggerEvent( 'user' );\r\n        },\r\n\r\n        userRegister ( userName, password ) {\r\n\r\n            const reqBody = new FormData();\r\n\r\n            reqBody.append( \"userName\", userName );\r\n            reqBody.append( \"password\", password );\r\n\r\n            return new Promise( function ( resolve, reject ) {\r\n\r\n                axios.request( {\r\n                    url: \"/api/users/register\",\r\n                    method: \"post\",\r\n                    data: { userName, password }\r\n                }).then( function ( res ) {\r\n                    const { token } = res.data;\r\n                    if ( token ) {\r\n                        cookie.save( 'userToken', token, { path: '/' });\r\n                        return resolve( token );\r\n                    };\r\n\r\n                    reject();\r\n                });\r\n\r\n            }).then( function ( token ) {\r\n                triggerEvent( 'user' );\r\n                return token;\r\n            });\r\n        },\r\n\r\n        cartSet ( productName, _count ) {\r\n            const cart = cookie.load( \"userCart\" ) ?? {};\r\n            const count = _count instanceof Function? _count( cart[ productName ] ?? 0 ): +_count;\r\n\r\n            cart[ productName ] = count;\r\n            if ( !count ) delete cart[ productName ];\r\n\r\n            cookie.save( \"userCart\", cart, { path: \"/\" });\r\n            triggerEvent( 'cart' );\r\n            return count;\r\n        },\r\n\r\n        cartClear () {\r\n            cookie.remove( \"userCart\", { path: \"/\" });\r\n            triggerEvent( 'cart' );\r\n        },\r\n\r\n        getUser () {\r\n            return cookie.load( \"userToken\" );\r\n        },\r\n\r\n        checkUser () {\r\n            return new Promise( function ( resolve ) {\r\n\r\n                const token = cookie.load( \"userToken\" );\r\n\r\n                if ( !token ) return resolve( false );\r\n\r\n                axios.request( {\r\n                    url: \"/api/users/details\",\r\n                    method: \"post\",\r\n                    data: { token }\r\n                }).then( function ({ data: result }) {\r\n                    if ( !result ) {\r\n                        cookie.remove( \"userToken\", { path: \"/\" });\r\n                        triggerEvent( 'user' );\r\n                    }\r\n                    console.log('hi')\r\n                    return result;\r\n                });\r\n            });\r\n        },\r\n\r\n        getCart () {\r\n            return cookie.load( \"userCart\" ) ?? {};\r\n        },\r\n\r\n        addListener ( event, listenerFunction, option ) {\r\n            if ( !listeners[ event ] ) listeners[ event ] = [];\r\n\r\n            const listener = Object.assign( {\r\n                listener: listenerFunction,\r\n                once: false\r\n            }, option )\r\n\r\n            listeners[ event ].push( listener );\r\n            return listener;\r\n        },\r\n\r\n        removeListener ( event, listener ) {\r\n            const eventListeners = listeners[ event ];\r\n            for ( let index = 0; index < eventListeners.length; index++ ) if ( eventListeners[ index ] == listener ) {\r\n                eventListeners.splice( index, 1 );\r\n                index--;\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nexport const store = (function () {\r\n    const configs = {\r\n        productList: {\r\n            url: 'api/products/',\r\n            method: 'get'\r\n        },\r\n\r\n        productDetail ( name ) {\r\n            return {\r\n                url: encodeURI( `api/products/${ name }` ),\r\n                method: 'get'\r\n            };\r\n        },\r\n\r\n        userDetail ( token ) {\r\n            return {\r\n                url: `api/users/details`,\r\n                method: 'post',\r\n                data: {\r\n                    token, detailed: true\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    const store = {\r\n        async request ( name, key, ...arg ) {\r\n            const config = configs[ name ] instanceof Function ? configs[ name ]( ...arg ): configs[ name ];\r\n            return await axios.request( config ).then( function ( response ) {\r\n                Object.assign( store, { [key || name]: response.data } );\r\n                return response.data;\r\n            }.bind( this ));\r\n        }\r\n    };\r\n\r\n    return store;\r\n})();","import userManager from \"../../user-manager\";\r\n\r\nexport default function cookieHandler ( _cookie ) {\r\n\r\n    const cookie = _cookie ?? {};\r\n    return {\r\n        getUser () {\r\n            return cookie.userToken;\r\n        },\r\n\r\n        getCart () {\r\n            return JSON.parse( cookie.userCart ?? \"{}\" );\r\n        },\r\n\r\n        checkUser () {\r\n            const passed = userManager.getUser( cookie.userToken );\r\n            return Promise[ passed ? 'resolve': 'reject']();\r\n        }\r\n    }\r\n}","import axios from 'axios';\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\n\r\nimport React from \"react\";\r\nimport ReactDOMServer from \"react-dom/server\";\r\nimport { matchRoutes } from 'react-router-dom';\r\nimport { StaticRouter } from \"react-router-dom/server\";\r\n\r\nimport App from \"./client/app\";\r\nimport routes from \"./client/routes\";\r\nimport cookieHandler from \"./client/service/server\";\r\n\r\naxios.defaults.baseURL = process.env.HOST ?? 'http://localhost:5000';\r\n\r\nexport function getInitialData ( req, res, next ) {\r\n    const tasks = matchRoutes( routes, { pathname: req.path } ).map( function ({ params, route: { element }}) {\r\n        return element?.type.getInitialData && element.type.getInitialData( params );\r\n    });\r\n\r\n    res.set( 'content-type', 'text/html;charset=utf-8');\r\n\r\n    return Promise.all( tasks ).then( function () {\r\n        return next();\r\n    });\r\n}\r\n\r\nexport function defaultRequestHandler ( req, res ) {\r\n    return fs.readFile( path.resolve( __dirname, 'index.html' ), function ( err, data ) {\r\n        if ( err ) throw err;\r\n\r\n        const content = data.toString();\r\n        const replacement = {\r\n            PUBLIC_URL: path.relative( req.path, \"/\" ) || '.',\r\n            CONTENT: ReactDOMServer.renderToString(\r\n                <div>\r\n                    <React.StrictMode>\r\n                        <StaticRouter location={ req.path }>\r\n                            <App cookies={ cookieHandler( req.cookies )} />\r\n                        </StaticRouter>\r\n                    </React.StrictMode>\r\n                </div>\r\n            )\r\n        };\r\n\r\n        return res.end( Object.entries( replacement ).reduce( function ( content, [ replaceKey, replaceValue ]) {\r\n            return content.replaceAll( `%${ replaceKey }%`, replaceValue );\r\n        }, content ));\r\n    });\r\n}","const userManager = {\r\n    users: {},\r\n    \r\n    getUser ( token ) {\r\n        const user = this.users[ token ] ?? null;\r\n        this.clearExpiredUsers();\r\n        if ( user?.expriedTime < Date.now() ) return null;\r\n        return user;\r\n    },\r\n\r\n    setUser ( user ) {\r\n        const dateTime = Date.now();\r\n        const token = Buffer.concat([ \r\n            toBuffer( dateTime ),\r\n            new Buffer( generateToken( user ))\r\n        ]).toString( 'base64url' );\r\n        \r\n        this.users[ token ] = Object.assign( {}, user, {\r\n            expriedTime: Date.now() + 7 * 24 * 36e5\r\n        });\r\n        \r\n        return token;\r\n    },\r\n\r\n    removeUser ( token ) {\r\n        return this.users[ token ] ? delete this.users[ token ]: false;\r\n    },\r\n\r\n    clearExpiredUsers () {\r\n        const { users } = this;\r\n        return new Promise( function ( resolve ) {\r\n            const now = Date.now();\r\n            Object.entries( users ).forEach( function ([ token, user ]) {\r\n                if ( user.expriedTime < now ) delete users[ token ];\r\n            });\r\n\r\n            return resolve();\r\n        });\r\n    }\r\n}\r\n\r\nfunction generateToken ({ userName, password }) {\r\n    const charsetList = [ ...userName, ...password ];\r\n    const tokenList = [];\r\n    for ( let i in charsetList.slice( 0, 10 )) {\r\n        const index = Math.floor( charsetList.length * Math.random() );\r\n        tokenList.push( charsetList[ index ]);\r\n        charsetList.splice( index, 1 );\r\n    }\r\n\r\n    return tokenList.join('');\r\n}\r\n\r\nfunction toBuffer ( number ) {\r\n    const buffer = Buffer.alloc( Math.floor( Math.log2( number ) / 8) + 1 );\r\n    for ( let [ int, index ] = [ Math.floor( number ), 0 ]; int != 0; [ int, index ] = [ Math.floor( int / 256 ), index + 1 ]) buffer.writeUInt8( int % 256, index );\r\n    return buffer;\r\n}\r\n\r\nexport default userManager;","module.exports = require(\"axios\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"express\");","module.exports = require(\"express-fileupload\");","module.exports = require(\"react\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"react-router-dom/server\");","module.exports = require(\"remarkable\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import express from \"express\";\r\nimport fileUpload from \"express-fileupload\";\r\nimport cookieParser from \"cookie-parser\";\r\n\r\nimport apis, { routes as apisRoutes } from \"./apis\";\r\nimport { defaultRequestHandler, getInitialData } from \"./default\";\r\n\r\nconst app = express();\r\n\r\napp.disable( 'x-powered-by' );\r\n\r\napp.use( express.json() );\r\napp.use( fileUpload() );\r\napp.use( cookieParser() );\r\n\r\napp.use( function ( req, res, next ) {\r\n    res.set( 'x-content-type-options', 'nosniff' );\r\n    next();\r\n});\r\n\r\napp.use( express.static( 'public' ));\r\n\r\napp.all( apisRoutes, apis );\r\n\r\napp.get( '*', getInitialData, defaultRequestHandler );\r\n\r\nconst port = process.env.PORT ?? 5000;\r\napp.listen( port, function () {\r\n    console.log( `Your app is listening on port ${ process.env.port ?? port }.` );\r\n});"],"names":["_delete","req","res","conn","name","params","send","type","message","queryString","query","err","result","results","get","reason","length","set","Buffer","concat","map","data","list","upload","update","files","method","requestMethod","fileName","methods","GET","POST","PUT","DELETE","file","Promise","resolve","reject","id","fileId","details","newName","body","Array","allSettled","mimetype","JSON","stringify","Object","assign","parse","latestUpdateDateTime","Date","toISOString","catch","fragments","i","push","slice","fragment","index","then","promises","all","filter","Boolean","key","value","uploadDateTime","insertId","mysql","products","users","DBhost","process","env","DBHOST","DBaccount","DBACCOUNT","DBpassword","DBPASSWORD","DBname","DBNAME","connection","createConnection","host","user","password","database","apiList","apis","api","routes","axios","types","String","Number","from","errorCodes","Connection","connectConfigs","afterFatalError","constructor","configs","defaultConfigs","connectTimeout","bind","values","callback","connectionConfigs","queryObject","OnFatalErrorHappen","promise","request","url","error","errorInfo","isFatal","datarows","fields","row","field","native_type","nativeTypes","entries","includes","Function","console","log","includeAll","images","diction","IMG","INFO","INTRO","detail","price","stock","reduce","productDetail","detail_name","product","userManager","NAME","token","detailed","userName","authority","getUser","forEach","orders","amount","items","login","register","userId","account","setUser","React","useEffect","useLocation","useRoutes","Navbar","Footer","ServiceProvider","App","props","location","service","cookies","checkUser","Breadcrumb","children","child","separator","useState","Carousel","interval","className","element","timeout","current","setCurrent","isAnimating","setAnimating","intervalObject","setIntervalObject","setInterval","nextTurn","componentDidMount","setTimeout","componentWillUnMount","clearInterval","join","item","_Carousel","Component","state","renderItems","setState","componentWillUnmount","componentDidUpdate","render","Link","padding","useContext","useService","isCollapse","setCollapse","navbarCollapse","setNavbarCollapse","togglerProps","role","onClick","toggleNavbar","collapseProps","style","height","getBoundingClientRect","ref","listener","addListener","removeListener","Searchbar","searchBox","getSearchBox","submitHandler","event","preventDefault","createContext","Outlet","store","Account","listenter","userLogin","logout","userLogout","userRegister","Forms","form","setForm","setLogin","setRegister","LoginForm","isLoading","setLoadingState","userNameElement","setUserNameElement","passwordElement","setPasswordElement","inputError","setInputError","onSubmitHandle","RegisterForm","passwordConfirm","setPasswordConfirm","AccountInformation","AccountDetail","userToken","setUserDetail","userDetail","maxWidth","AccountMenu","useAccountInformation","Cart","cart","setCart","getCart","setProductList","productList","getInitialData","CartComponent","fromEntries","rest","CartList","renderCartItems","sort","count","Loading","CartSummary","selectElement","setSelectElement","prev","total","orderTotal","CartEmpty","HomePage","SectionHeader","backgroundImage","SectionAbout","Market","OrderHistory","useParams","Remarkable","GoodDetailPage","setData","GoodDetail","numberInput","setNumberInputElement","cartCount","setCartCount","setCount","cartListener","cartSet","increase","change","decrease","changeHandler","cartToggler","md","information","introduce","__html","ProductList","ProductListComponent","page","prePage","UserDetail","AccountInfoForm","userNameInput","setUserNameInputElement","passwordInput","setPasswordInputElement","comfirmInput","setPasswordComfirmElement","UserInfoForm","nameInput","setNameInputElement","emailInput","setEmailInputElement","email","OrderDefaultForm","telInput","setTelInputElement","AddrInput","setAddrInputElement","recipient","tel","address","ProdcutDetail","path","ServiceContext","displayName","cookieHandler","cookie","listeners","triggerEvent","events","loadAll","eventListeners","tmp","once","splice","reqBody","FormData","append","save","remove","productName","_count","load","cartClear","listenerFunction","option","encodeURI","arg","config","response","_cookie","userCart","passed","fs","ReactDOMServer","matchRoutes","StaticRouter","defaults","baseURL","HOST","next","tasks","pathname","route","defaultRequestHandler","readFile","__dirname","content","toString","replacement","PUBLIC_URL","relative","CONTENT","renderToString","end","replaceKey","replaceValue","replaceAll","clearExpiredUsers","expriedTime","now","dateTime","toBuffer","generateToken","removeUser","charsetList","tokenList","Math","floor","random","number","buffer","alloc","log2","int","writeUInt8","express","fileUpload","cookieParser","apisRoutes","app","disable","use","json","static","port","PORT","listen"],"sourceRoot":""}