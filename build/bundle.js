/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/apis/files/delete.js":
/*!**********************************!*\
  !*** ./src/apis/files/delete.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _delete)\n/* harmony export */ });\nfunction _delete(req, res, conn) {\n  const {\n    name\n  } = req.params;\n  if (!name) return res.send({\n    type: 'error',\n    message: 'The parameter \\'name\\' must be given.'\n  });\n  const queryString = 'DELETE FROM `files` WHERE `name` = ?;';\n  conn.query(queryString, [name], function (err, result) {\n    res.send({\n      name,\n      results: 'failed',\n      [err ? 'reason' : 'results']: err ?? 'success'\n    });\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/apis/files/delete.js?");

/***/ }),

/***/ "./src/apis/files/get.js":
/*!*******************************!*\
  !*** ./src/apis/files/get.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ get)\n/* harmony export */ });\nfunction get(req, res, conn) {\n  const {\n    name\n  } = req.params;\n  if (!name) return res.send({\n    type: 'error',\n    message: 'The parameter \\'name\\' must be given.'\n  });\n  return conn.query('SELECT `files`.*, `file_data`.`data_id`, `file_data`.`data` FROM `files`, `file_data` WHERE `id` = `file_id` AND `name` = ?;', [name], function (err, results) {\n    if (err) return res.send({\n      type: 'error',\n      reason: err\n    });\n    if (!results?.length) return res.send({\n      type: 'error',\n      message: `The file:'${name}' was not found.`\n    });\n    const {\n      type\n    } = results?.[0];\n    res.set('content-type', type);\n    res.send(Buffer.concat(results.map(function ({\n      data\n    }) {\n      return data;\n    })));\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/apis/files/get.js?");

/***/ }),

/***/ "./src/apis/files/index.js":
/*!*********************************!*\
  !*** ./src/apis/files/index.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ files)\n/* harmony export */ });\n/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./list */ \"./src/apis/files/list.js\");\n/* harmony import */ var _get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./get */ \"./src/apis/files/get.js\");\n/* harmony import */ var _upload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./upload */ \"./src/apis/files/upload.js\");\n/* harmony import */ var _update__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./update */ \"./src/apis/files/update.js\");\n/* harmony import */ var _delete__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./delete */ \"./src/apis/files/delete.js\");\n\n\n\n\n\nfunction files(req, res, conn) {\n  res.set('content-type', 'application/json');\n  const {\n    method: requestMethod,\n    params: {\n      name: fileName\n    }\n  } = req;\n  const methods = {\n    GET: _get__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    POST: _upload__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    PUT: _update__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    DELETE: _delete__WEBPACK_IMPORTED_MODULE_4__[\"default\"]\n  };\n  if (!fileName) return (0,_list__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(req, res, conn);\n  return (methods[requestMethod] ?? function (req, res) {\n    res.send({\n      type: 'error',\n      message: `Undefined request method: '${requestMethod}' was used.`\n    });\n  })(req, res, conn);\n}\n;\n\n//# sourceURL=webpack://shinnan/./src/apis/files/index.js?");

/***/ }),

/***/ "./src/apis/files/list.js":
/*!********************************!*\
  !*** ./src/apis/files/list.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ list)\n/* harmony export */ });\nfunction list(req, res, conn) {\n  const queryString = 'SELECT *, CONCAT(\\'/api/files/\\', `files`.`name`) AS `url` FROM `files`;';\n  conn.query(queryString, [], function (err, results) {\n    if (err) throw err;\n    res.send(results);\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/apis/files/list.js?");

/***/ }),

/***/ "./src/apis/files/update.js":
/*!**********************************!*\
  !*** ./src/apis/files/update.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ update)\n/* harmony export */ });\nfunction update(req, res, conn) {\n  const {\n    file\n  } = req.files ?? {};\n  const {\n    name\n  } = req.params;\n  const result = {\n    name\n  };\n  return new Promise(function (resolve, reject) {\n    return conn.query('SELECT * FROM `files` WHERE `name` = ?;', [name], function (err, results) {\n      if (err) return reject(['reason', err]);\n      if (!results.length) return reject(['msg', {\n        type: 'error',\n        message: `The file:'${name}' was not found.`\n      }]);\n      const {\n        id: fileId,\n        name: fileName,\n        type,\n        details\n      } = results[0];\n      const newName = req.body?.name;\n      const result = Array(2);\n      return Promise.allSettled([new Promise(function (resolve, reject) {\n        return conn.query('UPDATE `files` SET `name`= ?,`type`= ?,`details`= ? WHERE `name` = ?;', [newName ?? fileName, file?.mimetype ?? type, JSON.stringify(Object.assign(JSON.parse(details), {\n          latestUpdateDateTime: new Date().toISOString()\n        })), fileName], function (err, result) {\n          return err ? reject(err) : resolve();\n        });\n      }).catch(function (reason) {\n        result[0] = reason;\n      }), file && new Promise(function (resolve, reject) {\n        const {\n          data\n        } = file;\n        const fragments = [];\n\n        for (let i = 0; i < data.length / 65535; i++) {\n          fragments.push(data.slice(i * 65535, (i + 1) * 65535));\n        }\n\n        const results = [];\n        return conn.query('DELETE FROM `file_data` WHERE `file_id` = ?;', [fileId], function (err) {\n          return err ? reject(err) : Promise.allSettled(fragments.map(function (fragment, index) {\n            results[index] = null;\n            return new Promise(function (resolve, reject) {\n              return conn.query('INSERT INTO `file_data`(`file_id`, `data_id`, `data`) VALUES ( ?, ?, BINARY(?));', [fileId, index, fragment], function (err, result) {\n                if (err) return reject(err);\n                return resolve(result);\n              });\n            }).then(function (result) {\n              return results[index] = result;\n            }).catch(function (reason) {\n              return results[index] = reason;\n            });\n          })).then(function (promises) {\n            Promise.all(promises).then(function () {\n              return resolve(results);\n            }).catch(function () {\n              return reject(results);\n            });\n          });\n          ;\n        });\n      })]).then(function (promises) {\n        return Promise.all(promises).then(resolve, function () {\n          return reject(['reason', result.filter(Boolean)]);\n        });\n      });\n    });\n  }).then(function () {\n    return res.send(Object.assign(result, {\n      result: 'success'\n    }));\n  }).catch(function ([key, value]) {\n    return res.send(Object.assign(result, {\n      result: 'fail',\n      [key]: value\n    }));\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/apis/files/update.js?");

/***/ }),

/***/ "./src/apis/files/upload.js":
/*!**********************************!*\
  !*** ./src/apis/files/upload.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ upload)\n/* harmony export */ });\nfunction upload(req, res, conn) {\n  const {\n    file\n  } = req.files ?? {};\n  const {\n    name\n  } = req.params;\n  if (!file) return res.send({\n    type: 'error',\n    message: 'There aren\\'t any files need to be uploaded, request with files by naming \\'file\\'.'\n  });\n  const {\n    mimetype,\n    data\n  } = file;\n  const result = {\n    name,\n    mimetype\n  };\n  return new Promise(function (resolve, reject) {\n    return conn.query('INSERT INTO `files`(`name`, `type`, `details`) VALUES ( ?, ?, ? )', [name, mimetype, JSON.stringify({\n      uploadDateTime: new Date().toISOString()\n    })], function (err, result) {\n      if (err) return reject(err);\n      const {\n        insertId: fileId\n      } = result;\n      const fragments = [];\n\n      for (let i = 0; i < data.length / 65535; i++) {\n        fragments.push(data.slice(i * 65535, (i + 1) * 65535));\n      }\n\n      const results = [];\n      return Promise.allSettled(fragments.map(function (fragment, index) {\n        results[index] = null;\n        return new Promise(function (resolve, reject) {\n          return conn.query('INSERT INTO `file_data`(`file_id`, `data_id`, `data`) VALUES ( ?, ?, BINARY(?))', [fileId, index, fragment], function (err, result) {\n            if (err) return reject(err);\n            return resolve(result);\n          });\n        }).then(function (result) {\n          return results[index] = result;\n        }).catch(function (reason) {\n          return results[index] = reason;\n        });\n      })).then(function (promises) {\n        Promise.all(promises).then(function () {\n          return resolve(results);\n        }).catch(function () {\n          return reject(results);\n        });\n      });\n    });\n  }).then(function () {\n    return res.send(Object.assign(result, {\n      result: 'success'\n    }));\n  }).catch(function (reason) {\n    return res.send(Object.assign(result, {\n      result: 'fail',\n      reason\n    }));\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/apis/files/upload.js?");

/***/ }),

/***/ "./src/apis/index.js":
/*!***************************!*\
  !*** ./src/apis/index.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _mysql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mysql */ \"./src/apis/mysql/index.js\");\n/* harmony import */ var _files__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./files */ \"./src/apis/files/index.js\");\n/* harmony import */ var _products__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./products */ \"./src/apis/products/index.js\");\n/* harmony import */ var _users__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./users */ \"./src/apis/users/index.js\");\n\n\n\n\nconst DBhost = process.env.DBHOST ?? 'http://203.68.249.7/shinnan/sql.php';\nconst DBaccount = process.env.DBACCOUNT ?? 'root';\nconst DBpassword = process.env.DBPASSWORD ?? '1qaz@WSX3edc';\nconst DBname = process.env.DBNAME ?? 'shinnanfarm';\nconst connection = _mysql__WEBPACK_IMPORTED_MODULE_0__[\"default\"].createConnection({\n  host: DBhost,\n  user: DBaccount,\n  password: DBpassword,\n  database: DBname\n});\n\nfunction apis(req, res) {\n  const {\n    params: {\n      api\n    }\n  } = req;\n  return (this[api] ?? function (req, res) {\n    res.send({\n      type: 'error',\n      message: `Unknown api: '${api}' had been request.`\n    });\n  })(req, res, connection);\n}\n\napis.files = _files__WEBPACK_IMPORTED_MODULE_1__[\"default\"].bind(apis);\napis.products = _products__WEBPACK_IMPORTED_MODULE_2__[\"default\"].bind(apis);\napis.users = _users__WEBPACK_IMPORTED_MODULE_3__[\"default\"].bind(apis);\n\napis.orders = function (req, res) {\n  res.send([{\n    \"id\": 7,\n    \"email\": \"michael.lawson@reqres.in\",\n    \"first_name\": \"Michael\",\n    \"last_name\": \"Lawson\",\n    \"avatar\": \"https://reqres.in/img/faces/7-image.jpg\"\n  }, {\n    \"id\": 8,\n    \"email\": \"lindsay.ferguson@reqres.in\",\n    \"first_name\": \"Lindsay\",\n    \"last_name\": \"Ferguson\",\n    \"avatar\": \"https://reqres.in/img/faces/8-image.jpg\"\n  }, {\n    \"id\": 9,\n    \"email\": \"tobias.funke@reqres.in\",\n    \"first_name\": \"Tobias\",\n    \"last_name\": \"Funke\",\n    \"avatar\": \"https://reqres.in/img/faces/9-image.jpg\"\n  }, {\n    \"id\": 10,\n    \"email\": \"byron.fields@reqres.in\",\n    \"first_name\": \"Byron\",\n    \"last_name\": \"Fields\",\n    \"avatar\": \"https://reqres.in/img/faces/10-image.jpg\"\n  }, {\n    \"id\": 11,\n    \"email\": \"george.edwards@reqres.in\",\n    \"first_name\": \"George\",\n    \"last_name\": \"Edwards\",\n    \"avatar\": \"https://reqres.in/img/faces/11-image.jpg\"\n  }, {\n    \"id\": 12,\n    \"email\": \"rachel.howell@reqres.in\",\n    \"first_name\": \"Rachel\",\n    \"last_name\": \"Howell\",\n    \"avatar\": \"https://reqres.in/img/faces/12-image.jpg\"\n  }]);\n}.bind(apis);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (apis.bind(apis));\n\n//# sourceURL=webpack://shinnan/./src/apis/index.js?");

/***/ }),

/***/ "./src/apis/mysql/index.js":
/*!*********************************!*\
  !*** ./src/apis/mysql/index.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n\nconst types = {\n  VAR_STRING: String,\n  STRING: String,\n  TINY: Number,\n  SHORT: Number,\n  LONG: Number,\n  LONGLONG: Number,\n  INT24: Number,\n  DOUBLE: Number,\n  DATETIME: Date,\n  DATE: Date,\n  TIMESTAMP: Date,\n  BLOB: Buffer.from\n};\n\nclass Connection {\n  #connectConfigs;\n  #afterFatalError = false;\n\n  constructor(configs) {\n    const defaultConfigs = {\n      connectTimeout: 1e4\n    };\n    this.#connectConfigs = Object.assign(defaultConfigs, configs);\n    this.query = this.query.bind(this);\n  }\n\n  get configs() {\n    return this.#connectConfigs;\n  }\n\n  query(queryString, values, callback) {\n    const {\n      configs: {\n        host,\n        ...connectionConfigs\n      }\n    } = this;\n    const queryObject = {\n      queryString,\n      values,\n      callback\n    };\n\n    function OnFatalErrorHappen() {\n      this.#afterFatalError = true;\n    }\n\n    const promise = new Promise(function (resolve, reject) {\n      const request = axios__WEBPACK_IMPORTED_MODULE_0___default().request({\n        url: host,\n        method: \"post\",\n        data: {\n          connection: JSON.stringify(connectionConfigs),\n          query: JSON.stringify({\n            queryString,\n            values\n          })\n        }\n      }).then(function ({\n        data: result\n      }) {\n        return result.error ? reject(result) : resolve(result);\n      }).catch(function (reason) {\n        return console.log(reason);\n      });\n    }).then(function (result) {\n      const {\n        results: datarows,\n        fields\n      } = result;\n      const results = [];\n\n      for (let row of datarows) {\n        const result = {};\n\n        for (let field of fields) {\n          const {\n            name,\n            native_type\n          } = field;\n          result[name] = types[native_type](row[name]);\n        }\n\n        results.push(result);\n      }\n\n      if (callback instanceof Function) callback(null, results, fields);\n      return result;\n    }).catch(function (result) {\n      const {\n        error\n      } = result;\n      if (callback instanceof Function) callback(error);\n      if (error?.isFatal) OnFatalErrorHappen();\n    });\n    return queryObject;\n  }\n\n}\n\nconst mysql = {\n  createConnection(configs) {\n    return new Connection(configs);\n  }\n\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mysql);\n\n//# sourceURL=webpack://shinnan/./src/apis/mysql/index.js?");

/***/ }),

/***/ "./src/apis/products/all.js":
/*!**********************************!*\
  !*** ./src/apis/products/all.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ all)\n/* harmony export */ });\nfunction all(req, res, conn) {\n  const {\n    includeAll\n  } = req.body ?? {};\n  const queryString = `SELECT \\`products\\`.\\`name\\`, \\`products\\`.\\`price\\`, \\`products\\`.\\`stock\\`, \\`product_details\\`.\\`value\\` AS \\`images\\` FROM \\`products\\` LEFT OUTER JOIN \\`product_details\\` ON \\`products\\`.\\`id\\` = \\`product_details\\`.\\`product_id\\` WHERE ( \\`product_details\\`.\\`name\\` = \"IMG\" OR \\`product_details\\`.\\`name\\` IS NULL )${includeAll ? '' : ' AND `products`.`released`'} ORDER BY \\`products\\`.\\`id\\`;`;\n  conn.query(queryString, [], function (err, results) {\n    if (err) return res.send({\n      type: 'error',\n      reason: err\n    });\n    return res.send(results.map(function ({\n      images,\n      ...values\n    }) {\n      return { ...values,\n        images: JSON.parse(images)\n      };\n    }));\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/apis/products/all.js?");

/***/ }),

/***/ "./src/apis/products/details.js":
/*!**************************************!*\
  !*** ./src/apis/products/details.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ detail)\n/* harmony export */ });\nconst diction = {\n  IMG: ['images', JSON.parse],\n  INFO: ['information'],\n  INTRO: ['introduce']\n};\nfunction detail(req, res, conn) {\n  const queryString = 'SELECT `products`.*, `product_details`.`name` AS `detail_name`, `product_details`.`value` FROM `products` LEFT OUTER JOIN `product_details` ON `products`.`id` = `product_details`.`product_id` WHERE `products`.`name` = ?;';\n  const values = [req.params.name];\n  conn.query(queryString, values, function (err, results) {\n    if (err) return res.send({\n      type: 'error',\n      reason: err\n    });\n    if (!results.length) return res.send({\n      type: 'error',\n      message: `Not found product named: '${req.params.name}'.`\n    });\n    const {\n      name,\n      price,\n      stock\n    } = results[0];\n    return res.send(results.reduce(function (productDetail, {\n      detail_name,\n      value\n    }) {\n      if (value == null) return productDetail;\n      const [key, method] = diction[detail_name] ?? [];\n      return Object.assign(productDetail, {\n        [key ?? detail_name]: method ? method(value) : value\n      });\n    }, {\n      name,\n      price,\n      stock\n    }));\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/apis/products/details.js?");

/***/ }),

/***/ "./src/apis/products/index.js":
/*!************************************!*\
  !*** ./src/apis/products/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ product)\n/* harmony export */ });\n/* harmony import */ var _all__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./all */ \"./src/apis/products/all.js\");\n/* harmony import */ var _details__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./details */ \"./src/apis/products/details.js\");\n\n\nfunction product(req, res, conn) {\n  res.set('content-type', 'application/json');\n  const {\n    method: requestMethod,\n    params: {\n      name: fileName\n    }\n  } = req;\n  const methods = {\n    GET: _details__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n  };\n  if (!fileName) return (0,_all__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(req, res, conn);\n  return (methods[requestMethod] ?? function (req, res) {\n    res.send({\n      type: 'error',\n      message: `Undefined request method: '${requestMethod}' was used.`\n    });\n  })(req, res, conn);\n}\n;\n\n//# sourceURL=webpack://shinnan/./src/apis/products/index.js?");

/***/ }),

/***/ "./src/apis/users/details.js":
/*!***********************************!*\
  !*** ./src/apis/users/details.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ details)\n/* harmony export */ });\n/* harmony import */ var _user_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../user-manager */ \"./src/user-manager/index.js\");\n\nconst diction = {\n  NAME: [\"name\"]\n};\nfunction details(req, res, conn) {\n  const {\n    token,\n    detailed\n  } = req.body ?? {};\n  const {\n    userName,\n    authority\n  } = _user_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUser(token) ?? {};\n  const user = {\n    userName,\n    authority\n  };\n  if (!Boolean(userName)) return res.send(false);\n  if (!detailed) return res.send(user);\n  return Promise.all([new Promise(function (resolve, reject) {\n    return conn.query(\"SELECT `user_details`.`name`, `user_details`.`value` FROM `users` JOIN `user_details` ON `users`.`id` = `user_details`.`user_id` WHERE `users`.`account` = ?\", [userName], function (error, results) {\n      if (error) return reject(error);\n      results.forEach(function ({\n        name,\n        value\n      }, index) {\n        const [key, method] = diction[name] ?? {};\n        return Object(user, {\n          [key ?? name]: method ? method(value) : value\n        });\n      });\n      return resolve(user);\n    });\n  }), new Promise(function (resolve, reject) {\n    return conn.query(\"SELECT `orders`.`id`, `orders`.`details`, `products`.`name`, `products`.`price`, `product_details`.`value` AS `images`, `order_content`.`amount` FROM `orders` JOIN `users` ON `orders`.`user_id` = `users`.`id` JOIN `order_content` ON `orders`.`id` = `order_content`.`order_id` JOIN `products` ON `order_content`.`product_id` = `products`.`id` LEFT OUTER JOIN `product_details` ON `products`.`id` = `product_details`.`product_id` WHERE ( `product_details`.`name` = \\\"IMG\\\" OR `product_details`.`name` IS NULL ) AND `users`.`account` = ? ORDER BY `orders`.`id`, `products`.`id`\", [userName], function (error, results) {\n      if (error) return reject(error);\n      user.orders = Object.values(results.reduce(function (orders, {\n        id,\n        details,\n        name,\n        price,\n        images,\n        amount\n      }) {\n        if (!orders[id]) orders[id] = { ...JSON.parse(details || {}),\n          items: []\n        };\n        orders[id].items.push({\n          name,\n          price,\n          images: JSON.parse(images),\n          amount\n        });\n        return orders;\n      }, {}));\n      return resolve(user);\n    });\n  })]).then(function () {\n    return res.send(user);\n  }).catch(function (reason) {\n    return res.send({\n      type: 'error',\n      reason\n    });\n  });\n}\n/**\r\n * SELECT `products`.`name`, `products`.`price`, `order_content`.`amount`, `product_details`.`value` AS `images` FROM `orders` JOIN `users` ON `orders`.`user_id` = `users`.`id` JOIN `order_content` ON `orders`.`id` = `order_content`.`order_id` JOIN `products` ON `order_content`.`product_id` = `products`.`id` LEFT OUTER JOIN `product_details` ON `products`.`id` = `product_details`.`product_id` WHERE `product_details`.`name` = \"IMG\" OR `product_details`.`name` IS NULL AND `users`.`id` = 1\r\n */\n\n//# sourceURL=webpack://shinnan/./src/apis/users/details.js?");

/***/ }),

/***/ "./src/apis/users/index.js":
/*!*********************************!*\
  !*** ./src/apis/users/index.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ users)\n/* harmony export */ });\n/* harmony import */ var _login__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./login */ \"./src/apis/users/login.js\");\n/* harmony import */ var _details__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./details */ \"./src/apis/users/details.js\");\n/* harmony import */ var _register__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./register */ \"./src/apis/users/register.js\");\n\n\n\nfunction users(req, res, conn) {\n  res.set('content-type', 'application/json');\n  const {\n    params: {\n      name: method\n    }\n  } = req;\n  const methods = {\n    login: _login__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    details: _details__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    register: _register__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n  };\n  return (methods[method] ?? function (req, res) {\n    res.send({\n      type: 'error',\n      message: `Undefined request method: '${method}' was used.`\n    });\n  })(req, res, conn);\n}\n;\n\n//# sourceURL=webpack://shinnan/./src/apis/users/index.js?");

/***/ }),

/***/ "./src/apis/users/login.js":
/*!*********************************!*\
  !*** ./src/apis/users/login.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ login)\n/* harmony export */ });\n/* harmony import */ var _user_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../user-manager */ \"./src/user-manager/index.js\");\n\nfunction login(req, res, conn) {\n  const queryString = \"SELECT * FROM `users` WHERE `account` = ? AND `password` = ?\";\n  const {\n    userName,\n    password\n  } = req.body ?? {};\n  if (!userName || !password) return res.send({\n    type: 'error',\n    message: 'Parameters named \\'account\\' and \\'password\\' must been given.'\n  });\n  return conn.query(queryString, [userName, password], function (err, results) {\n    if (err) return res.send({\n      type: 'error',\n      reason: err\n    });\n    if (!results.length) return res.send(false);\n    const user = {\n      userName: results[0].account,\n      password: results[0].password,\n      authority: results[0].authority\n    };\n    const token = _user_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setUser(user);\n    return res.send(JSON.stringify(token));\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/apis/users/login.js?");

/***/ }),

/***/ "./src/apis/users/register.js":
/*!************************************!*\
  !*** ./src/apis/users/register.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ register)\n/* harmony export */ });\n/* harmony import */ var _user_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../user-manager */ \"./src/user-manager/index.js\");\n\nfunction register(req, res, conn) {\n  const queryString = \"INSERT INTO `users`(`account`, `password`) VALUES ( ?, ? )\";\n  const {\n    userName,\n    password\n  } = req.body ?? {};\n  if (!userName || !password) return res.send({\n    type: 'error',\n    message: 'Parameters named \\'userName\\' and \\'password\\' must been given.'\n  });\n  return conn.query(queryString, [userName, password], function (err) {\n    if (err) return res.send({\n      type: 'error',\n      reason: err\n    });\n    const user = {\n      userName,\n      password\n    };\n    const token = _user_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setUser(user);\n    return res.send({\n      userName,\n      result: 'success',\n      token\n    });\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/apis/users/register.js?");

/***/ }),

/***/ "./src/client/app.js":
/*!***************************!*\
  !*** ./src/client/app.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_navbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/navbar */ \"./src/client/components/navbar.js\");\n/* harmony import */ var _components_footer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/footer */ \"./src/client/components/footer.js\");\n/* harmony import */ var _cookie__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cookie */ \"./src/client/cookie/index.js\");\n/* harmony import */ var _routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./routes */ \"./src/client/routes/index.js\");\n\n\n\n\n\n\nfunction App(props) {\n  const location = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useLocation)();\n  const cookie = props.cookies;\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    cookie.checkUser();\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_cookie__WEBPACK_IMPORTED_MODULE_4__[\"default\"].Provider, {\n    value: cookie\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_navbar__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"content-body\"\n  }, (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useRoutes)(_routes__WEBPACK_IMPORTED_MODULE_5__[\"default\"], location.pathname)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_footer__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null));\n}\n\n//# sourceURL=webpack://shinnan/./src/client/app.js?");

/***/ }),

/***/ "./src/client/components/breadcrumb.js":
/*!*********************************************!*\
  !*** ./src/client/components/breadcrumb.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Breadcrumb)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction Breadcrumb(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"breadcrumb\"\n  }, props.children?.map ? props.children.map(function (child, index, children) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), {\n      key: index\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, child), index != children.length - 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"separator\"\n    }, props.separator ?? '/'));\n  }) : props.children);\n}\n\n//# sourceURL=webpack://shinnan/./src/client/components/breadcrumb.js?");

/***/ }),

/***/ "./src/client/components/carousel.js":
/*!*******************************************!*\
  !*** ./src/client/components/carousel.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _Carousel)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\nfunction Carousel({\n  children,\n  interval,\n  className,\n  ...props\n}) {\n  const items = children.filter(element => element);\n  const timeout = interval ?? 5000;\n  const [current, setCurrent] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  const [isAnimating, setAnimating] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [intervalObject, setIntervalObject] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  setIntervalObject(setInterval(function nextTurn() {\n    setCurrent(++current == items.length ? 0 : current);\n    setAnimating(true);\n  }, timeout));\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function componentDidMount() {\n    if (!isAnimating) setTimeout(function () {\n      setAnimating(false);\n    }, 600);\n    return function componentWillUnMount() {\n      clearInterval(intervalObject);\n    };\n  }, [isAnimating]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", _extends({\n    className: ['carousel', className].filter(Boolean).join(\" \")\n  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"carousel-inner\"\n  }, items.map(function (item, index) {\n    const className = [\"carousel-item\", current == index && \"active\", (current == items.length - 1 ? 0 : current + 1) == index && \"next\", isAnimating && (current || items.length) - 1 == index && \"animating\", isAnimating && current == index && \"animating\"].filter(Boolean).join(\" \");\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: className,\n      key: index\n    }, item);\n  })));\n}\n\nclass _Carousel extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {\n  constructor(props) {\n    super(props);\n    const items = this.props.children;\n    this.state = {\n      items,\n      current: 0,\n      isAnimating: false,\n      timeout: this.props.interval ?? 5000\n    };\n    this.nextTurn = this.nextTurn.bind(this);\n    this.renderItems = this.renderItems.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      interval: this.state.timeout && setInterval(this.nextTurn, this.state.timeout < 1000 ? 1000 : this.state.timeout)\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.state.timeout) clearInterval(this.state.interval);\n  }\n\n  componentDidUpdate() {\n    if (this.state.isAnimating) setTimeout(function () {\n      this.setState({\n        isAnimating: false\n      });\n    }.bind(this), 1000);\n  }\n\n  nextTurn() {\n    this.setState({\n      current: ++this.state.current == this.state.items.length ? 0 : this.state.current,\n      isAnimating: true\n    });\n  }\n\n  renderItems() {\n    const {\n      current,\n      items,\n      isAnimating\n    } = this.state;\n    return items.map(function (item, index) {\n      const className = [\"carousel-item\", current == index && \"active\", (current == items.length - 1 ? 0 : current + 1) == index && \"next\", isAnimating && (current || items.length) - 1 == index && \"animating\", isAnimating && current == index && \"animating\"].filter(Boolean).join(\" \");\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n        className: className,\n        key: index\n      }, item);\n    }.bind(this));\n  }\n\n  render() {\n    const {\n      className,\n      children,\n      ...props\n    } = this.props;\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", _extends({\n      className: ['carousel', className].filter(Boolean).join(\" \")\n    }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"carousel-inner\"\n    }, this.renderItems()));\n  }\n\n}\n\n//# sourceURL=webpack://shinnan/./src/client/components/carousel.js?");

/***/ }),

/***/ "./src/client/components/footer.js":
/*!*****************************************!*\
  !*** ./src/client/components/footer.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Footer)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nclass Footer extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"footer\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n      src: \"/images/brand_white.svg\",\n      alt: \"brand\"\n    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"copyright\"\n    }, \"Copyright \\xA9 2021, All rights reserved.\"));\n  }\n\n}\n\n//# sourceURL=webpack://shinnan/./src/client/components/footer.js?");

/***/ }),

/***/ "./src/client/components/navbar.js":
/*!*****************************************!*\
  !*** ./src/client/components/navbar.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Navbar)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cookie */ \"./src/client/cookie/index.js\");\n\n\n\nfunction Navbar() {\n  const [isCollapse, setCollapse] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n  const [navbarCollapse, setNavbarCollapse] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const cookie = (0,_cookie__WEBPACK_IMPORTED_MODULE_2__.useCookie)();\n  const togglerProps = {\n    className: ['navbar-toggler', !isCollapse && 'active'].filter(Boolean).join(\" \"),\n    role: 'button',\n    'aria-label': 'navbar toggler',\n    onClick: toggleNavbar\n  };\n  const collapseProps = {\n    className: ['navbar-collapse', isCollapse && 'collapsed'].filter(Boolean).join(\" \"),\n    style: isCollapse ? null : {\n      height: navbarCollapse?.children[0].getBoundingClientRect().height\n    },\n    ref: setNavbarCollapse\n  };\n\n  function toggleNavbar() {\n    setCollapse(!isCollapse);\n  }\n\n  const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(cookie.getUser());\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    const listener = cookie.addListener('user', function () {\n      setUser(cookie.getUser());\n    });\n    return function () {\n      cookie.removeListener('user', listener);\n    };\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"nav\", {\n    id: \"navbar\",\n    role: \"navigation\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"navbar-container\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, {\n    to: \"/\",\n    className: \"navbar-brand\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n    src: \"/images/brand.svg\",\n    alt: \"\\u65B0\\u5357\\u667A\\u6167\\u8FB2\\u5712\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", togglerProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"navbar-toggler-icon\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", collapseProps, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"navbar-collapse-wrapper\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"navbar-nav\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"nav-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, {\n    to: \"/\",\n    className: \"nav-link\"\n  }, \"\\u9996\\u9801\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"nav-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, {\n    to: \"/news\",\n    className: \"nav-link\"\n  }, \"\\u6700\\u65B0\\u6D88\\u606F\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"nav-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, {\n    to: \"/market\",\n    className: \"nav-link\"\n  }, \"\\u7DDA\\u4E0A\\u5546\\u5E97\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"nav-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, {\n    to: \"/account\",\n    className: \"nav-link nav-option\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    className: \"icon\"\n  }, '\\uE77B'), \" \", user ? '會員中心' : '登入 / 註冊')), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"nav-item\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, {\n    to: \"/cart\",\n    className: \"nav-link nav-option\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    className: \"icon\"\n  }, '\\uF342'), \" \\u6211\\u7684\\u5546\\u54C1\")))))));\n}\n\n//# sourceURL=webpack://shinnan/./src/client/components/navbar.js?");

/***/ }),

/***/ "./src/client/components/searchbar.js":
/*!********************************************!*\
  !*** ./src/client/components/searchbar.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Searchbar)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction Searchbar(props) {\n  const [searchBox, getSearchBox] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n\n  function submitHandler(event) {\n    event.preventDefault();\n    console.log(searchBox.value);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"form\", {\n    className: \"searchbar\",\n    onSubmit: submitHandler\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    ref: getSearchBox,\n    placeholder: \"\\u641C\\u7D22\\u2026\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"submit\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n    className: \"icon icon-alt icon-bold\"\n  }, '\\uE721')));\n}\n\n//# sourceURL=webpack://shinnan/./src/client/components/searchbar.js?");

/***/ }),

/***/ "./src/client/cookie/index.js":
/*!************************************!*\
  !*** ./src/client/cookie/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"cookieHandler\": () => (/* binding */ cookieHandler),\n/* harmony export */   \"useCookie\": () => (/* binding */ useCookie)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Cookie = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)();\n\nfunction cookieHandler(cookie) {\n  const listeners = {};\n\n  function triggerEvent(...events) {\n    const cookies = cookie.loadAll();\n\n    for (let event of events) {\n      const eventListeners = listeners[event] ?? [];\n      let tmp = true;\n\n      for (let {\n        listener,\n        once\n      } of eventListeners) {\n        if (once) tmp = false;\n        listener(cookies);\n      }\n\n      ;\n      if (tmp) return;\n\n      for (let index = 0; index < eventListeners.length; index++) if (eventListeners[index].once) {\n        eventListeners.splice(index, 1);\n        index--;\n      }\n    }\n  }\n\n  return {\n    userLogin(userName, password) {\n      const reqBody = new FormData();\n      reqBody.append(\"userName\", userName);\n      reqBody.append(\"password\", password);\n      return new Promise(function (resolve, reject) {\n        axios__WEBPACK_IMPORTED_MODULE_0___default().request({\n          url: \"/api/users/login\",\n          method: \"post\",\n          data: {\n            userName,\n            password\n          }\n        }).then(function (res) {\n          const token = res.data;\n\n          if (token) {\n            cookie.save('userToken', token, {\n              path: '/'\n            });\n            return resolve(token);\n          }\n\n          ;\n          reject();\n        });\n      }).then(function (token) {\n        triggerEvent('user');\n        return token;\n      });\n    },\n\n    userLogout() {\n      cookie.remove(\"userToken\", {\n        path: \"/\"\n      });\n      triggerEvent('user');\n    },\n\n    userRegister(userName, password) {\n      const reqBody = new FormData();\n      reqBody.append(\"userName\", userName);\n      reqBody.append(\"password\", password);\n      return new Promise(function (resolve, reject) {\n        axios__WEBPACK_IMPORTED_MODULE_0___default().request({\n          url: \"/api/users/register\",\n          method: \"post\",\n          data: {\n            userName,\n            password\n          }\n        }).then(function (res) {\n          const {\n            token\n          } = res.data;\n\n          if (token) {\n            cookie.save('userToken', token, {\n              path: '/'\n            });\n            return resolve(token);\n          }\n\n          ;\n          reject();\n        });\n      }).then(function (token) {\n        triggerEvent('user');\n        return token;\n      });\n    },\n\n    cartSet(productName, _count) {\n      const cart = cookie.load(\"userCart\") ?? {};\n      const count = _count instanceof Function ? _count(cart[productName] ?? 0) : +_count;\n      cart[productName] = count;\n      if (!count) delete cart[productName];\n      cookie.save(\"userCart\", cart, {\n        path: \"/\"\n      });\n      triggerEvent('cart');\n      return count;\n    },\n\n    cartClear() {\n      cookie.remove(\"userCart\", {\n        path: \"/\"\n      });\n      triggerEvent('cart');\n    },\n\n    getUser() {\n      return cookie.load(\"userToken\");\n    },\n\n    checkUser() {\n      return new Promise(function (resolve) {\n        const token = cookie.load(\"userToken\");\n        if (!token) return resolve(false);\n        axios__WEBPACK_IMPORTED_MODULE_0___default().request({\n          url: \"/api/users/details\",\n          method: \"post\",\n          data: {\n            token\n          }\n        }).then(function ({\n          data: result\n        }) {\n          if (!result) {\n            cookie.remove(\"userToken\", {\n              path: \"/\"\n            });\n            triggerEvent('user');\n          }\n\n          console.log('hi');\n          return result;\n        });\n      });\n    },\n\n    getCart() {\n      return cookie.load(\"userCart\") ?? {};\n    },\n\n    addListener(event, listenerFunction, option) {\n      if (!listeners[event]) listeners[event] = [];\n      const listener = Object.assign({\n        listener: listenerFunction,\n        once: false\n      }, option);\n      listeners[event].push(listener);\n      return listener;\n    },\n\n    removeListener(event, listener) {\n      const eventListeners = listeners[event];\n\n      for (let index = 0; index < eventListeners.length; index++) if (eventListeners[index] == listener) {\n        eventListeners.splice(index, 1);\n        index--;\n      }\n    }\n\n  };\n}\n\nfunction useCookie() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(Cookie);\n}\n\nCookie.cookieHandler = cookieHandler;\nCookie.useCookie = useCookie;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Cookie);\n\n\n//# sourceURL=webpack://shinnan/./src/client/cookie/index.js?");

/***/ }),

/***/ "./src/client/cookie/server.js":
/*!*************************************!*\
  !*** ./src/client/cookie/server.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ cookieHandler)\n/* harmony export */ });\n/* harmony import */ var _user_manager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../user-manager */ \"./src/user-manager/index.js\");\n\nfunction cookieHandler(_cookie) {\n  const cookie = _cookie ?? {};\n  return {\n    getUser() {\n      return cookie.userToken;\n    },\n\n    getCart() {\n      return JSON.parse(cookie.userCart ?? \"{}\");\n    },\n\n    checkUser() {\n      const passed = _user_manager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUser(cookie.userToken);\n      return Promise[passed ? 'resolve' : 'reject']();\n    }\n\n  };\n}\n\n//# sourceURL=webpack://shinnan/./src/client/cookie/server.js?");

/***/ }),

/***/ "./src/client/pages/account.js":
/*!*************************************!*\
  !*** ./src/client/pages/account.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Account),\n/* harmony export */   \"useAccountInformation\": () => (/* binding */ useAccountInformation)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _cookie__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cookie */ \"./src/client/cookie/index.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store */ \"./src/client/store/index.js\");\n\n\n\n\nfunction Account() {\n  const cookie = (0,_cookie__WEBPACK_IMPORTED_MODULE_2__.useCookie)();\n  const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(cookie.getUser());\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    const listenter = cookie.addListener('user', function () {\n      const user = cookie.getUser();\n      setUser(user);\n    });\n    return function () {\n      cookie.removeListener('user', listenter);\n    };\n  }, []);\n\n  function login(userName, password) {\n    return cookie.userLogin(userName, password).then(function (token) {\n      setUser(token);\n      return token;\n    });\n  }\n\n  function logout() {\n    cookie.userLogout();\n    setUser(null);\n  }\n\n  function register(userName, password) {\n    return cookie.userRegister(userName, password).then(function (token) {\n      setUser(token);\n      return token;\n    });\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"account\"\n  }, user ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AccountDetail, {\n    logout: logout,\n    user: user,\n    comfirmed: comfirmed\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(Forms, {\n    login: login,\n    register: register\n  }));\n}\n\nfunction Forms({\n  login,\n  register\n}) {\n  const [form, setForm] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n\n  function setLogin() {\n    setForm(true);\n  }\n\n  function setRegister() {\n    setForm(false);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"form\",\n    className: \"navbar-space\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"form\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    onClick: setLogin,\n    \"data-current\": form\n  }, \"\\u6703\\u54E1\\u767B\\u5165\"), \" / \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    onClick: setRegister,\n    \"data-current\": !form\n  }, \"\\u8A3B\\u518A\\u65B0\\u6703\\u54E1\")), form ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LoginForm, {\n    login: login\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(RegisterForm, {\n    register: register\n  })));\n}\n\nfunction LoginForm({\n  login\n}) {\n  const [isLoading, setLoadingState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [userNameElement, setUserNameElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [passwordElement, setPasswordElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [inputError, setInputError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n\n  function onSubmitHandle(event) {\n    event.preventDefault();\n    setLoadingState(true);\n    login(userNameElement.value, passwordElement.value).catch(function () {\n      setLoadingState(false);\n      setInputError(true);\n    });\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"form\", {\n    onSubmit: onSubmitHandle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"\\u7528\\u6236\\u540D\\u7A31\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    name: \"username\",\n    type: \"text\",\n    placeholder: \"\",\n    ref: setUserNameElement,\n    autoComplete: \"off\",\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"\\u7528\\u6236\\u5BC6\\u78BC\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"password\",\n    ref: setPasswordElement,\n    autoComplete: \"off\",\n    required: true\n  })), inputError && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"error-message\"\n  }, \"\\u5E33\\u865F\\u6216\\u5BC6\\u78BC\\u932F\\u8AA4\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"submit\",\n    \"aria-label\": \"\\u767B\\u5165\\u6309\\u9215\",\n    disabled: isLoading\n  }, isLoading ? '載入中' : '登入'));\n}\n\nfunction RegisterForm(props) {\n  const {\n    register\n  } = props;\n  const [isLoading, setLoadingState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [userNameElement, setUserNameElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [passwordElement, setPasswordElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [passwordConfirm, setPasswordConfirm] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [inputError, setInputError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n\n  function onSubmitHandle(event) {\n    event.preventDefault();\n    let error = 0;\n\n    if (passwordConfirm.value !== passwordElement.value) {\n      error += 2;\n    }\n\n    ;\n\n    if (passwordElement.value.length < 8) {\n      error += 4;\n    }\n\n    ;\n    if (error) return setInputError(error);\n    register(userNameElement.value, passwordElement.value).catch(function () {\n      setInputError(1);\n      setLoadingState(false);\n    });\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"form\", {\n    onSubmit: onSubmitHandle\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"\\u7528\\u6236\\u540D\\u7A31\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    ref: setUserNameElement,\n    name: \"username\",\n    autoComplete: \"off\",\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, \"\\u7528\\u6236\\u5BC6\\u78BC\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"password\",\n    ref: setPasswordElement,\n    autoComplete: \"off\",\n    placeholder: \"\\u6700\\u5C11\\u61C9\\u6709 8 \\u500B\\u5B57\\u5143\",\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"password\",\n    ref: setPasswordConfirm,\n    autoComplete: \"off\",\n    placeholder: \"\\u8ACB\\u518D\\u6B21\\u8F38\\u5165\\u5BC6\\u78BC\",\n    required: true\n  })), Boolean(inputError & 1) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"error-message\"\n  }, \"\\u4F7F\\u7528\\u8005\\u5E33\\u865F\\u5DF2\\u88AB\\u4F7F\\u7528\"), Boolean(inputError & 2) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"error-message\"\n  }, \"\\u8F38\\u5165\\u5BC6\\u78BC\\u4E26\\u4E0D\\u76F8\\u540C\"), Boolean(inputError & 4) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"error-message\"\n  }, \"\\u5BC6\\u78BC\\u6700\\u5C11\\u61C9\\u6709 8 \\u500B\\u5B57\\u5143\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"submit\",\n    \"aria-label\": \"\\u8A3B\\u518A\\u6309\\u9215\",\n    disabled: isLoading\n  }, isLoading ? '載入中' : '註冊'));\n}\n\nconst AccountInformation = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();\n\nfunction AccountDetail(props) {\n  const {\n    user: userToken\n  } = props;\n  const [user, setUserDetail] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].userDetail);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (!user) _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].request('userDetail', userToken).then(setUserDetail);\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"navbar-space container account-layout\",\n    style: {\n      maxWidth: \"var(--max-width-container-xl)\"\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AccountMenu, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AccountInformation.Provider, {\n    value: user\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Outlet, null)));\n}\n\nfunction AccountMenu(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"account-menu\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, {\n    to: \"/account\"\n  }, \"\\u7528\\u6236\\u8CC7\\u8A0A\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, {\n    to: \"/account/orders\"\n  }, \"\\u8A02\\u55AE\\u8A18\\u9304\"));\n}\n\nfunction useAccountInformation() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AccountInformation);\n}\n\n//# sourceURL=webpack://shinnan/./src/client/pages/account.js?");

/***/ }),

/***/ "./src/client/pages/cart.js":
/*!**********************************!*\
  !*** ./src/client/pages/cart.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Cart)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cookie */ \"./src/client/cookie/index.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../store */ \"./src/client/store/index.js\");\n\n\n\nfunction Cart() {\n  const cookieService = (0,_cookie__WEBPACK_IMPORTED_MODULE_1__.useCookie)();\n  const [cart, setCart] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(cookieService.getCart());\n  const [products, setProductList] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].productList ?? []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    const listener = cookieService.addListener(\"cart\", function () {\n      setCart(cookieService.getCart());\n    });\n    return function () {\n      cookieService.removeListener(\"cart\", listener);\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (!products) _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].request('productList').then(setProductList);\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"cart-page\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"navbar-space container\",\n    style: {\n      maxWidth: \"var(--max-width-container-xl)\"\n    }\n  }, Object.entries(cart).length ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(CartComponent, {\n    cart: cart,\n    productList: products\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(CartEmpty, null)));\n}\n\nCart.getInitialData = function () {\n  return _store__WEBPACK_IMPORTED_MODULE_2__[\"default\"].request('productList');\n};\n\nfunction CartComponent(props) {\n  const {\n    cart,\n    productList\n  } = props;\n  const products = Object.fromEntries(productList.map(function ({\n    name,\n    ...rest\n  }) {\n    return [name, rest];\n  }));\n  const [selectElement, setSelectElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n\n  function count() {\n    return Object.values(cart).reduce(function (prev, amount) {\n      return prev + amount;\n    }, 0);\n  }\n\n  function total() {\n    return Object.entries(cart).reduce(function (prev, [name, amount]) {\n      return prev + amount * products[name].price;\n    }, 0);\n  }\n\n  function orderTotal() {\n    return total() + +(selectElement?.value ?? 50);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"cart-layout\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"cart-list\"\n  }, renderCartItems(cart, products)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"cart-summary\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"summary-header\"\n  }, \"\\u7E3D\\u8A08\\u6458\\u8981\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"summary-body\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"summary-items-count summary-row\"\n  }, \"\\u7E3D\\u6578\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, count())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"summary-items-total summary-row\"\n  }, \"\\u7E3D\\u50F9\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, total())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"summary-shipping-fees\"\n  }, \"\\u904B\\u8CBB\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"select\", {\n    defaultValue: 50,\n    ref: setSelectElement\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"option\", {\n    value: 50\n  }, \"\\u6A19\\u6E96\\u904B\\u8CBB - NT$ 50.00\"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"summary-order-total summary-row\"\n  }, \"\\u5408\\u8A08\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, orderTotal())), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, \"\\u6536\\u4EF6\\u4EBA\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"\\u6536\\u4EF6\\u4EBA\\u59D3\\u540D\",\n    title: \"\\u8ACB\\u8F38\\u5165\\u6536\\u4EF6\\u4EBA\\u7684\\u59D3\\u540D\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, \"\\u806F\\u7D61\\u96FB\\u8A71\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    name: \"tel\",\n    placeholder: \"\\u624B\\u6A5F\\u6216\\u96FB\\u8A71\\u865F\\u78BC\",\n    pattern: \"[0-9]\",\n    title: \"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684\\u624B\\u6A5F\\u6216\\u96FB\\u8A71\\u865F\\u78BC\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, \"\\u9001\\u8CA8\\u5730\\u5740\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    name: \"address\",\n    placeholder: \"\\u50C5\\u9650\\u53F0\\u7063\\u3001\\u6F8E\\u6E56\\u3001\\u91D1\\u9580\\u4EE5\\u53CA\\u99AC\\u7956\\u5730\\u5340\",\n    title: \"\\u8ACB\\u8F38\\u5165\\u9001\\u8CA8\\u7684\\u6536\\u4EF6\\u5730\\u5740\"\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"summary-text\"\n  }, \"\\u203B\\u532F\\u6B3E\\u5E33\\u6236\\uFF1A[12346789]\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"summary-text\"\n  }, \"\\u203B\\u532F\\u6B3E\\u6642\\uFF0C\\u8ACB\\u5728\\u5099\\u8A3B\\u6B04\\u586B\\u5BEB\\u60A8\\u7684\\u59D3\\u540D\\u3001\\u806F\\u7D61\\u65B9\\u5F0F\\u4EE5\\u53CA\\u8A02\\u55AE\\u6458\\u8981\\uFF0C\\u4EE5\\u4FBF\\u65BC\\u8655\\u7406\\u3002 \\u8A02\\u55AE\\u6458\\u8981\\u5C07\\u5728\\u9001\\u51FA\\u8A02\\u55AE\\u5F8C\\u751F\\u6210\\u3002\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"summary-text\"\n  }, \"\\u203B\\u8ACB\\u65BC 3 \\u65E5\\u5167\\u5B8C\\u6210\\u532F\\u6B3E\\uFF0C\\u5426\\u5247\\u5C07\\u81EA\\u52D5\\u53D6\\u6D88\\u8A02\\u55AE\\u3002 \\u82E5\\u6709\\u4EFB\\u4F55\\u554F\\u984C\\u8ACB\\u806F\\u7D61\\u5BA2\\u670D\\u4EBA\\u54E1\\uFF0C\\u6211\\u5011\\u5C07\\u70BA\\u60A8\\u670D\\u52D9\\u3002\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"summary-row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"summary-clear\"\n  }, \"\\u6E05\\u7A7A\\u8CFC\\u7269\\u8ECA\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"summary-checkout\"\n  }, \"\\u9001\\u51FA\\u8A02\\u55AE\")))));\n}\n\nfunction renderCartItems(cart, products) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"product-row product-title-row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"\\u5546\\u54C1\\u5716\\u7247\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"\\u5546\\u54C1\\u540D\\u7A31\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"\\u50F9\\u683C\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"\\u6578\\u91CF\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"\\u5C0F\\u8A08\")), Boolean(products) && Object.entries(cart).sort().map(function ([name, count]) {\n    const {\n      price,\n      images\n    } = products[name] ?? {};\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"product-row\",\n      key: name\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n      className: \"product-image\",\n      src: `/api/files/${images?.[0] ?? \"default_product.svg\"}`\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"product-name\"\n    }, name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"product-price\"\n    }, price), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"product-count\"\n    }, count), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"product-price\"\n    }, count * price));\n  }));\n}\n\nfunction CartEmpty(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"\\u8CFC\\u7269\\u8ECA\\u5C1A\\u7121\\u4EFB\\u4F55\\u5546\\u54C1\\u54E6!\");\n}\n\n//# sourceURL=webpack://shinnan/./src/client/pages/cart.js?");

/***/ }),

/***/ "./src/client/pages/homepage.js":
/*!**************************************!*\
  !*** ./src/client/pages/homepage.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HomePage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_carousel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/carousel */ \"./src/client/components/carousel.js\");\n\n\nclass HomePage extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      id: \"homepage\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SectionHeader, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SectionAbout, null));\n  }\n\n}\n\nclass SectionHeader extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"section\", {\n      className: \"header\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_carousel__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n      className: \"fade\",\n      interval: 4000\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"img\",\n      style: {\n        backgroundImage: \"url(images/001.jpg)\"\n      }\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"img\",\n      style: {\n        backgroundImage: \"url(images/002.jpg)\"\n      }\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"img\",\n      style: {\n        backgroundImage: \"url(images/003.jpg)\"\n      }\n    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"content\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n      src: \"images/white_vertical.svg\"\n    })));\n  }\n\n}\n\nclass SectionAbout extends (react__WEBPACK_IMPORTED_MODULE_0___default().Component) {\n  render() {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"section\", {\n      className: \"about\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"\\u8FB2\\u696D \\xD7 \\u7269\\u9023\\u7DB2\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"container\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"block\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"info\"\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"image\"\n    }))));\n  }\n\n}\n\n//# sourceURL=webpack://shinnan/./src/client/pages/homepage.js?");

/***/ }),

/***/ "./src/client/pages/market.js":
/*!************************************!*\
  !*** ./src/client/pages/market.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Market)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction Market() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"market\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"navbar-space container\",\n    style: {\n      maxWidth: 'var(--max-width-container-xl)'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Outlet, null)));\n}\n\n//# sourceURL=webpack://shinnan/./src/client/pages/market.js?");

/***/ }),

/***/ "./src/client/pages/order-history.js":
/*!*******************************************!*\
  !*** ./src/client/pages/order-history.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ OrderHistory)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction OrderHistory() {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null);\n}\n\n//# sourceURL=webpack://shinnan/./src/client/pages/order-history.js?");

/***/ }),

/***/ "./src/client/pages/product-detail.js":
/*!********************************************!*\
  !*** ./src/client/pages/product-detail.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ GoodDetailPage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var remarkable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! remarkable */ \"remarkable\");\n/* harmony import */ var remarkable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(remarkable__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_breadcrumb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/breadcrumb */ \"./src/client/components/breadcrumb.js\");\n/* harmony import */ var _components_carousel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/carousel */ \"./src/client/components/carousel.js\");\n/* harmony import */ var _cookie__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../cookie */ \"./src/client/cookie/index.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../store */ \"./src/client/store/index.js\");\n\n\n\n\n\n\n\nfunction GoodDetailPage() {\n  const {\n    name\n  } = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useParams)();\n  const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"].productDetail);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function componentDidUpdate() {\n    if (data?.name != name) _store__WEBPACK_IMPORTED_MODULE_6__[\"default\"].request('productDetail', name).then(setData);\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"good-detail\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_breadcrumb__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, {\n    to: \"/market\"\n  }, \"\\u7DDA\\u4E0A\\u5546\\u5E97\"), name), data?.name == name ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(GoodDetail, {\n    data: data\n  }) : \"LOADING\");\n}\n\nfunction GoodDetail({\n  data\n}) {\n  const cookieService = (0,_cookie__WEBPACK_IMPORTED_MODULE_5__.useCookie)();\n  const [cart, setCart] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(cookieService.getCart());\n  const [numberInput, setNumberInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [cartCount, setCartCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(cart[data.name]);\n  let [count, setCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(cartCount ?? 1);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    const cartListener = cookieService.addListener('cart', function () {\n      const cart = cookieService.getCart();\n      setCart(cart);\n      setCartCount(cart[data.name]);\n    });\n    return function () {\n      cookieService.removeListener('cart', cartListener);\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (numberInput) numberInput.value = cartCount ?? count;\n  }, [numberInput]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    cookieService.cartSet(data.name, cartCount && count);\n  }, [count]);\n\n  function increase() {\n    let change = ++count > data.stock ? data.stock : count;\n    setCount(change);\n    numberInput.value = change;\n  }\n\n  function decrease() {\n    let change = --count < 1 ? 1 : count;\n    setCount(--count < 1 ? 1 : count);\n    numberInput.value = change;\n  }\n\n  function changeHandler() {\n    let change = numberInput.value > 0 ? numberInput.value > data.stock ? data.stock : numberInput.value : 1;\n    setCount(change);\n    numberInput.value = change;\n  }\n\n  function cartToggler() {\n    const count = numberInput.value;\n    cookieService.cartSet(data.name, cartCount ? 0 : count);\n  }\n\n  const md = new remarkable__WEBPACK_IMPORTED_MODULE_2__.Remarkable();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"good-detail-row\"\n  }, data?.images?.map ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_carousel__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n    className: \"good-detail-images fade\"\n  }, data.images.map(function (name) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n      src: `/api/files/${name}`,\n      alt: name,\n      key: name\n    });\n  })) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n    className: \"good-detail-images\",\n    src: \"/api/files/default_product.svg\",\n    alt: data.name\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"good-detail-info\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h1\", {\n    className: \"good-name\"\n  }, data.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"good-price\"\n  }, \"NT$ \", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, data.price)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"good-info\"\n  }, data.information), data.stock ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"good-control\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"good-count\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"icon\",\n    \"aria-label\": \"decrease\",\n    onClick: decrease,\n    disabled: count == 1\n  }, \"\\uE949\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    onChange: changeHandler,\n    ref: setNumberInputElement,\n    type: \"number\",\n    max: data.stock,\n    min: 1\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"icon\",\n    \"aria-label\": \"increase\",\n    onClick: increase,\n    disabled: count == data.stock\n  }, \"\\uE948\")), cartCount ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"good-cart-remove\",\n    onClick: cartToggler\n  }, \"\\u79FB\\u51FA\\u8CFC\\u7269\\u8ECA\") : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"good-cart-add\",\n    onClick: cartToggler\n  }, \"\\u52A0\\u5165\\u8CFC\\u7269\\u8ECA\")) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"good-control\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    className: \"good-cart-add\",\n    disabled: true\n  }, \"\\u76EE\\u524D\\u5C1A\\u7121\\u5EAB\\u5B58\")))), Boolean(data.introduce) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"good-detail-intro\",\n    dangerouslySetInnerHTML: {\n      __html: md.render(data.introduce)\n    }\n  }));\n}\n\nGoodDetailPage.getInitialData = async function ({\n  name\n}) {\n  return _store__WEBPACK_IMPORTED_MODULE_6__[\"default\"].request('productDetail', name);\n};\n\n//# sourceURL=webpack://shinnan/./src/client/pages/product-detail.js?");

/***/ }),

/***/ "./src/client/pages/product-list.js":
/*!******************************************!*\
  !*** ./src/client/pages/product-list.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProductList)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_searchbar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/searchbar */ \"./src/client/components/searchbar.js\");\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store */ \"./src/client/store/index.js\");\n\n\n\n\nfunction ProductList() {\n  const [productList, setProductList] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].productList);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function componentDidMount() {\n    if (!productList) _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].request('productList').then(setProductList);\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"product-list\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_searchbar__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    className: \"product-list-container\"\n  }, productList ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ProductListComponent, {\n    productList: productList\n  }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null, \"Loading...\")));\n}\n\nProductList.getInitialData = function () {\n  return _store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].request('productList');\n};\n\nfunction ProductListComponent(props) {\n  const {\n    page = 0,\n    prePage = 20,\n    productList\n  } = props;\n  return productList.slice(page * prePage, (page + 1) * prePage).map(function (product, index) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, {\n      className: \"product-card\",\n      key: product.name,\n      to: product.name\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", {\n      className: \"product-image\",\n      src: `/api/files/${product?.images?.[0] ?? \"default_product.svg\"}`,\n      alt: product.name\n    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"product-name\"\n    }, product.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"product-intro\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"product-price\"\n    }, product.price), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"product-detail\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n      className: \"product-stock\"\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"i\", {\n      className: \"icon\"\n    }, \"\\uEECB\"), \" \\u5EAB\\u5B58 \", product.stock))));\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/client/pages/product-list.js?");

/***/ }),

/***/ "./src/client/pages/user-detail.js":
/*!*****************************************!*\
  !*** ./src/client/pages/user-detail.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UserDetail)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cookie */ \"./src/client/cookie/index.js\");\n/* harmony import */ var _account__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./account */ \"./src/client/pages/account.js\");\n\n\n\nfunction UserDetail() {\n  const user = (0,_account__WEBPACK_IMPORTED_MODULE_2__.useAccountInformation)();\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", {\n    id: \"user-detail\"\n  }, Boolean(user) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h1\", null, \"\\u7528\\u6236\\u8CC7\\u8A0A\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(AccountInfoForm, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(UserInfoForm, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(OrderDefaultForm, null)));\n}\n\nfunction AccountInfoForm() {\n  const cookie = (0,_cookie__WEBPACK_IMPORTED_MODULE_1__.useCookie)();\n  const user = (0,_account__WEBPACK_IMPORTED_MODULE_2__.useAccountInformation)() ?? {};\n  const [isLoading, setLoadingState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [userNameInput, setUserNameInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  const [passwordInput, setPasswordInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  const [comfirmInput, setPasswordComfirmElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  const [inputError, setInputError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n\n  function submitHandler(event) {\n    event.preventDefault();\n    let error = 0;\n\n    if (passwordConfirm.value !== passwordElement.value) {\n      error += 2;\n    }\n\n    ;\n\n    if (passwordElement.value.length < 8) {\n      error += 4;\n    }\n\n    ;\n    if (error) return setInputError(error);\n    return;\n    cookie.register(userNameElement.value, passwordElement.value).catch(function () {\n      setInputError(1);\n      setLoadingState(false);\n    });\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"form\", {\n    onSubmit: submitHandler\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"\\u5E33\\u6236\\u8CC7\\u8A0A\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, \"\\u5E33\\u865F\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    ref: setUserNameInputElement,\n    placeholder: \"\\u5E33\\u865F\",\n    title: \"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684\\u59D3\\u540D\",\n    defaultValue: user.userName,\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, \"\\u5BC6\\u78BC\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"password\",\n    ref: setPasswordInputElement,\n    placeholder: \"\\u6700\\u5C11\\u61C9\\u6709 8 \\u500B\\u5B57\\u5143\",\n    required: true\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"password\",\n    ref: setPasswordComfirmElement,\n    placeholder: \"\\u8ACB\\u518D\\u6B21\\u8F38\\u5165\\u5BC6\\u78BC\",\n    required: true\n  })), Boolean(inputError & 1) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"error-message\"\n  }, \"\\u4F7F\\u7528\\u8005\\u5E33\\u865F\\u5DF2\\u88AB\\u4F7F\\u7528\"), Boolean(inputError & 2) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"error-message\"\n  }, \"\\u8F38\\u5165\\u5BC6\\u78BC\\u4E26\\u4E0D\\u76F8\\u540C\"), Boolean(inputError & 4) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", {\n    className: \"error-message\"\n  }, \"\\u5BC6\\u78BC\\u6700\\u5C11\\u61C9\\u6709 8 \\u500B\\u5B57\\u5143\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"submit\",\n    disabled: isLoading\n  }, isLoading ? '載入中' : '更改'), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"reset\"\n  }, \"\\u91CD\\u8A2D\"));\n}\n\nfunction UserInfoForm() {\n  const user = (0,_account__WEBPACK_IMPORTED_MODULE_2__.useAccountInformation)();\n  const [nameInput, setNameInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  const [emailInput, setEmailInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n\n  function submitHandler(event) {\n    event.preventDefault();\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"form\", {\n    onSubmit: submitHandler\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"\\u4F7F\\u7528\\u8005\\u8CC7\\u8A0A\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, \"\\u59D3\\u540D\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    ref: setNameInputElement,\n    placeholder: \"\\u4F7F\\u7528\\u8005\\u59D3\\u540D\",\n    title: \"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684\\u59D3\\u540D\",\n    defaultValue: user.name\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, \"\\u96FB\\u5B50\\u90F5\\u4EF6\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"email\",\n    ref: setEmailInputElement,\n    placeholder: \"\\u4F7F\\u7528\\u8005\\u7684\\u96FB\\u5B50\\u90F5\\u4EF6\",\n    pattern: \"[0-9]\",\n    title: \"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684\\u96FB\\u5B50\\u90F5\\u4EF6\",\n    defaultValue: user.email\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"submit\"\n  }, \"\\u66F4\\u6539\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"reset\"\n  }, \"\\u91CD\\u8A2D\"));\n}\n\nfunction OrderDefaultForm() {\n  const user = (0,_account__WEBPACK_IMPORTED_MODULE_2__.useAccountInformation)() ?? {};\n  const [nameInput, setNameInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  const [telInput, setTelInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  const [AddrInput, setAddrInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n\n  function submitHandler(event) {\n    event.preventDefault();\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"form\", {\n    onSubmit: submitHandler\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h2\", null, \"\\u8A02\\u55AE\\u8CC7\\u8A0A\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", null, \"\\u4EE5\\u4E0B\\u8CC7\\u6599\\u5C07\\u4F5C\\u70BA\\u9810\\u8A2D\\u7684\\u8A02\\u55AE\\u8CC7\\u8A0A\\uFF0C\\u8A02\\u55AE\\u9001\\u51FA\\u524D\\u53EF\\u518D\\u4F5C\\u4FEE\\u6539\\u3002\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, \"\\u6536\\u4EF6\\u4EBA\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    ref: setNameInputElement,\n    placeholder: \"\\u6536\\u4EF6\\u4EBA\\u59D3\\u540D\",\n    title: \"\\u8ACB\\u8F38\\u5165\\u6536\\u4EF6\\u4EBA\\u7684\\u59D3\\u540D\",\n    defaultValue: user.recipient\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, \"\\u806F\\u7D61\\u96FB\\u8A71\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    ref: setTelInputElement,\n    placeholder: \"\\u624B\\u6A5F\\u6216\\u96FB\\u8A71\\u865F\\u78BC\",\n    pattern: \"[0-9]\",\n    title: \"\\u8ACB\\u8F38\\u5165\\u60A8\\u7684\\u624B\\u6A5F\\u6216\\u96FB\\u8A71\\u865F\\u78BC\",\n    defaultValue: user.tel\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", {\n    className: \"summary-form\"\n  }, \"\\u9001\\u8CA8\\u5730\\u5740\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", {\n    type: \"text\",\n    ref: setAddrInputElement,\n    placeholder: \"\\u50C5\\u9650\\u53F0\\u7063\\u3001\\u6F8E\\u6E56\\u3001\\u91D1\\u9580\\u4EE5\\u53CA\\u99AC\\u7956\\u5730\\u5340\",\n    title: \"\\u8ACB\\u8F38\\u5165\\u9001\\u8CA8\\u7684\\u6536\\u4EF6\\u5730\\u5740\",\n    defaultValue: user.address\n  })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"submit\"\n  }, \"\\u66F4\\u6539\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", {\n    type: \"reset\"\n  }, \"\\u91CD\\u8A2D\"));\n}\n\n//# sourceURL=webpack://shinnan/./src/client/pages/user-detail.js?");

/***/ }),

/***/ "./src/client/routes/index.js":
/*!************************************!*\
  !*** ./src/client/routes/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _pages_product_detail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../pages/product-detail */ \"./src/client/pages/product-detail.js\");\n/* harmony import */ var _pages_homepage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pages/homepage */ \"./src/client/pages/homepage.js\");\n/* harmony import */ var _pages_market__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pages/market */ \"./src/client/pages/market.js\");\n/* harmony import */ var _pages_product_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pages/product-list */ \"./src/client/pages/product-list.js\");\n/* harmony import */ var _pages_account__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../pages/account */ \"./src/client/pages/account.js\");\n/* harmony import */ var _pages_cart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../pages/cart */ \"./src/client/pages/cart.js\");\n/* harmony import */ var _pages_user_detail__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../pages/user-detail */ \"./src/client/pages/user-detail.js\");\n/* harmony import */ var _pages_order_history__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../pages/order-history */ \"./src/client/pages/order-history.js\");\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ([{\n  path: '/',\n  element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_homepage__WEBPACK_IMPORTED_MODULE_3__[\"default\"], null)\n}, {\n  path: '/market',\n  element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_market__WEBPACK_IMPORTED_MODULE_4__[\"default\"], null),\n  children: [{\n    path: '/market',\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_product_list__WEBPACK_IMPORTED_MODULE_5__[\"default\"], null)\n  }, {\n    path: '/market/:name',\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_product_detail__WEBPACK_IMPORTED_MODULE_2__[\"default\"], null)\n  }]\n}, {\n  path: '/account',\n  element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_account__WEBPACK_IMPORTED_MODULE_6__[\"default\"], null),\n  children: [{\n    path: '/account',\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_user_detail__WEBPACK_IMPORTED_MODULE_8__[\"default\"], null)\n  }, {\n    path: '/account/orders',\n    element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_order_history__WEBPACK_IMPORTED_MODULE_9__[\"default\"], null)\n  }]\n}, {\n  path: '/cart',\n  element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_pages_cart__WEBPACK_IMPORTED_MODULE_7__[\"default\"], null)\n}, {\n  path: '*',\n  element: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Outlet, null)\n}]);\n\n//# sourceURL=webpack://shinnan/./src/client/routes/index.js?");

/***/ }),

/***/ "./src/client/store/index.js":
/*!***********************************!*\
  !*** ./src/client/store/index.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst store = function () {\n  const configs = {\n    productList: {\n      url: 'api/products/',\n      method: 'get'\n    },\n\n    productDetail(name) {\n      return {\n        url: encodeURI(`api/products/${name}`),\n        method: 'get'\n      };\n    },\n\n    userDetail(token) {\n      return {\n        url: `api/users/details`,\n        method: 'post',\n        data: {\n          token,\n          detailed: true\n        }\n      };\n    }\n\n  };\n  const store = {\n    async request(name, ...arg) {\n      const config = configs[name] instanceof Function ? configs[name](...arg) : configs[name];\n      return await axios__WEBPACK_IMPORTED_MODULE_0___default().request(config).then(function (response) {\n        Object.assign(store, {\n          [name]: response.data\n        });\n        return response.data;\n      }.bind(this));\n    },\n\n    init() {\n      return Object.entries(configs).map(function ([name]) {\n        return store[name] = null;\n      });\n    }\n\n  };\n  store.init();\n  return store;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (store);\n\n//# sourceURL=webpack://shinnan/./src/client/store/index.js?");

/***/ }),

/***/ "./src/default.js":
/*!************************!*\
  !*** ./src/default.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* export default binding */ __WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-dom/server */ \"react-dom/server\");\n/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ \"react-router-dom\");\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react_router_dom_server__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom/server */ \"react-router-dom/server\");\n/* harmony import */ var react_router_dom_server__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_router_dom_server__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _client_app__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./client/app */ \"./src/client/app.js\");\n/* harmony import */ var _client_routes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./client/routes */ \"./src/client/routes/index.js\");\n/* harmony import */ var _client_cookie_server__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./client/cookie/server */ \"./src/client/cookie/server.js\");\n\n\n\n\n\n\n\n\n\n\n(axios__WEBPACK_IMPORTED_MODULE_0___default().defaults.baseURL) = process.env.HOST ?? 'http://localhost:5000';\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__(req, res) {\n  return fs__WEBPACK_IMPORTED_MODULE_1___default().readFile(path__WEBPACK_IMPORTED_MODULE_2___default().resolve(__dirname, 'index.html'), function (err, data) {\n    if (err) throw err;\n    res.set('content-type', 'text/html;charset=utf-8');\n    return Promise.all((0,react_router_dom__WEBPACK_IMPORTED_MODULE_5__.matchRoutes)(_client_routes__WEBPACK_IMPORTED_MODULE_8__[\"default\"], req.path).map(function ({\n      params,\n      route: {\n        element\n      }\n    }) {\n      return element?.type.getInitialData && element.type.getInitialData(params);\n    })).then(function () {\n      const content = data.toString();\n      const replacement = {\n        base: path__WEBPACK_IMPORTED_MODULE_2___default().relative(req.path, \"/\") || '.',\n        content: react_dom_server__WEBPACK_IMPORTED_MODULE_4___default().renderToString( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"div\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(react_router_dom_server__WEBPACK_IMPORTED_MODULE_6__.StaticRouter, {\n          location: req.path\n        }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(_client_app__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n          cookies: (0,_client_cookie_server__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(req.cookies)\n        }))))\n      };\n      return res.end(Object.entries(replacement).reduce(function (prev, [key, value]) {\n        return prev.replaceAll(`{{ ${key} }}`, value);\n      }, content));\n    });\n  });\n}\n\n//# sourceURL=webpack://shinnan/./src/default.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var express_fileupload__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express-fileupload */ \"express-fileupload\");\n/* harmony import */ var express_fileupload__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express_fileupload__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cookie-parser */ \"cookie-parser\");\n/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cookie_parser__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _apis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./apis */ \"./src/apis/index.js\");\n/* harmony import */ var _default__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./default */ \"./src/default.js\");\n\n\n\n\n\nconst app = express__WEBPACK_IMPORTED_MODULE_0___default()();\napp.disable('x-powered-by');\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default().json());\napp.use(express_fileupload__WEBPACK_IMPORTED_MODULE_1___default()());\napp.use(cookie_parser__WEBPACK_IMPORTED_MODULE_2___default()());\napp.use(function (req, res, next) {\n  res.set('x-content-type-options', 'nosniff');\n  next();\n});\napp.use(express__WEBPACK_IMPORTED_MODULE_0___default()[\"static\"]('public'));\napp.all(['/api', '/api/:api', '/api/:api/:name', '/api/*'], _apis__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\napp.get('*', _default__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\nconst port = process.env.PORT ?? 5000;\napp.listen(port, function () {\n  console.log(`Your app is listening on port ${process.env.port ?? port}.`);\n});\n\n//# sourceURL=webpack://shinnan/./src/index.js?");

/***/ }),

/***/ "./src/user-manager/index.js":
/*!***********************************!*\
  !*** ./src/user-manager/index.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst userManager = {\n  users: {},\n\n  getUser(token) {\n    const user = this.users[token] ?? null;\n    this.clearExpiredUsers();\n    if (user?.expriedTime < Date.now()) return null;\n    return user;\n  },\n\n  setUser(user) {\n    const dateTime = Date.now();\n    const token = Buffer.concat([toBuffer(dateTime), new Buffer(generateToken(user))]).toString('base64url');\n    this.users[token] = Object.assign({}, user, {\n      expriedTime: Date.now() + 7 * 24 * 36e5\n    });\n    return token;\n  },\n\n  removeUser(token) {\n    return this.users[token] ? delete this.users[token] : false;\n  },\n\n  clearExpiredUsers() {\n    const {\n      users\n    } = this;\n    return new Promise(function (resolve) {\n      const now = Date.now();\n      Object.entries(users).forEach(function ([token, user]) {\n        if (user.expriedTime < now) delete users[token];\n      });\n      return resolve();\n    });\n  }\n\n};\n\nfunction generateToken({\n  userName,\n  password\n}) {\n  const charsetList = [...userName, ...password];\n  const tokenList = [];\n\n  for (let i in charsetList.slice(0, 10)) {\n    const index = Math.floor(charsetList.length * Math.random());\n    tokenList.push(charsetList[index]);\n    charsetList.splice(index, 1);\n  }\n\n  return tokenList.join('');\n}\n\nfunction toBuffer(number) {\n  const buffer = Buffer.alloc(Math.floor(Math.log2(number) / 8) + 1);\n\n  for (let [int, index] = [Math.floor(number), 0]; int != 0; [int, index] = [Math.floor(int / 256), index + 1]) buffer.writeUInt8(int % 256, index);\n\n  return buffer;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (userManager);\n\n//# sourceURL=webpack://shinnan/./src/user-manager/index.js?");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = require("axios");

/***/ }),

/***/ "cookie-parser":
/*!********************************!*\
  !*** external "cookie-parser" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("cookie-parser");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("express");

/***/ }),

/***/ "express-fileupload":
/*!*************************************!*\
  !*** external "express-fileupload" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("express-fileupload");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "react-dom/server":
/*!***********************************!*\
  !*** external "react-dom/server" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("react-dom/server");

/***/ }),

/***/ "react-router-dom":
/*!***********************************!*\
  !*** external "react-router-dom" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("react-router-dom");

/***/ }),

/***/ "react-router-dom/server":
/*!******************************************!*\
  !*** external "react-router-dom/server" ***!
  \******************************************/
/***/ ((module) => {

module.exports = require("react-router-dom/server");

/***/ }),

/***/ "remarkable":
/*!*****************************!*\
  !*** external "remarkable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("remarkable");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;